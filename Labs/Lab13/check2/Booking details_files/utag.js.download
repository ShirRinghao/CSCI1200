//tealium universal tag - utag.loader ut4.0.201904240753, Copyright 2019 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};if((""+document.cookie).match("utag_env_cx_web=(\/\/tags\.tiqcdn\.com\/utag\/cx\/[^\S;]*)")){if(RegExp.$1.indexOf("/prod/")===-1){var s=RegExp.$1;while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/cx/web/prod/';}}})();}catch(e){};try{try{window.cxDataLayer=window.cxDataLayer||{page:{}};window.optimizely=window.optimizely||[];}catch(e){utag.DB(e)}}catch(e){};if(!utag_condload){try{try{(function(){var t=this,e=[":","@","://"],r=function(t){var r,n,s,o,a,u;return o={host:"",port:"",query:{},pathname:"",protocol:"",user:"",password:"",href:t,hash:""},u=["http","https","ftp","ssh","irc","sftp"],r=function(t,e){var r;return t.indexOf(e)!==-1?r=[t.substring(0,t.indexOf(e)),t.substring(t.indexOf(e)+e.length)]:["",t]},n=function(t,e){var r;return t.lastIndexOf(e)!==-1?r=[t.substring(t.lastIndexOf(e)+e.length),t.substring(0,t.lastIndexOf(e))]:["",t]},a=function(t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])!=-1)return!1;return!0},s=function(t,e,p){switch(null==p&&(p=!1),e){case"#":t.lastIndexOf("#"+n(t,e)[0])==t.length-n(t,e)[0].length-e.length&&1==a(n(t,e)[0])?(o.hash=n(t,e)[0],s(n(t,e)[1],"@")):(o.hash=null,s(t,"@"));break;case"?":o.query={},n(t,e)[0].split("&").forEach(function(t){var e;e=t.split("="),""!==e[0]&&(o.query[e[0]]=e[1])}),s(n(t,e)[1],"/");break;case"/":""===r(t,e)[0]?(s(r(t,e)[1],":",!0),o.pathname="/"+r(t,e)[0]):(s(r(t,e)[0],":",!0),o.pathname="/"+r(t,e)[1]);break;case"://":u.indexOf(r(t,e)[0].toLowerCase())!==-1?o.protocol=r(t,e)[0]:o.protocol=null,s(r(t,e)[1],"#");break;case"@":""!==n(t,e)[0]?(s(n(t,e)[1],":"),s(n(t,e)[0],"?")):s(n(t,e)[1],"?");break;case":":p?""===r(t,e)[0]?o.host=r(t,e)[1]:(o.host=r(t,e)[0],o.port=r(t,e)[1]):""===r(t,e)[0]?o.user=r(t,e)[1]:(o.user=r(t,e)[0],o.password=r(t,e)[1])}},s(t,"://"),o.origin=(""!==o.protocol?o.protocol+"://":"")+o.host+(""!==o.port?":"+o.port:""),o};return"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.parserURI=r):t.parserURI=r,r}).call(this);}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{!function(e){var n=!1;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var o=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=o,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,r,i){var c;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},t.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{c=JSON.stringify(r),/^[\{\[]/.test(c)&&(r=c)}catch(e){}return r=o.write?o.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",r,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],s=/(%[0-9A-Z]{2})+/g,d=0;d<p.length;d++){var f=p[d].split("="),u=f.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var l=f[0].replace(s,decodeURIComponent);if(u=o.read?o.read(u,l):o(u,l)||u.replace(s,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(e){}if(n===l){c=u;break}n||(c[l]=u)}catch(e){}}return c}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})});}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return sd.apply(null,arguments)}function b(a){sd=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return void 0===a}function g(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return sb(a,b,c,d,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function n(a){return null==a._pf&&(a._pf=m()),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=ud.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a,b){var c,d,e;if(f(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),f(b._i)||(a._i=b._i),f(b._f)||(a._f=b._f),f(b._l)||(a._l=b._l),f(b._strict)||(a._strict=b._strict),f(b._tzm)||(a._tzm=b._tzm),f(b._isUTC)||(a._isUTC=b._isUTC),f(b._offset)||(a._offset=b._offset),f(b._pf)||(a._pf=n(b)),f(b._locale)||(a._locale=b._locale),vd.length>0)for(c=0;c<vd.length;c++)d=vd[c],e=b[d],f(e)||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wd===!1&&(wd=!0,a.updateOffset(this),wd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function x(b,c){var d=!0;return k(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),xd[b]||(w(c),xd[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=k({},a);for(c in b)j(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},k(e[c],a[c]),k(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)j(a,c)&&!j(b,c)&&d(a[c])&&(e[c]=k({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Hd[c]=Hd[c+"s"]=Hd[b]=a}function K(a){return"string"==typeof a?Hd[a]||Hd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)j(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Id[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Id[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Md[a]=e),b&&(Md[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Md[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function W(a){var b,c,d=a.match(Jd);for(b=0,c=d.length;b<c;b++)Md[d[b]]?d[b]=Md[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=z(d[e])?d[e].call(b,a):d[e];return f}}function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Ld[b]=Ld[b]||W(b),Ld[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kd.lastIndex=0;d>=0&&Kd.test(a);)a=a.replace(Kd,c),Kd.lastIndex=0,d-=1;return a}function Z(a,b,c){ce[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return j(ce,a)?ce[a](b._strict,b._locale):new RegExp(_(a))}function _(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),g(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)de[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&j(de,a)&&de[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||oe).test(b)?"format":"standalone"][a.month()]:c(this._months)?this._months:this._months.standalone}function ga(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[oe.test(b)?"format":"standalone"][a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=ne.call(this._shortMonthsParse,g),e!==-1?e:null):(e=ne.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=ne.call(this._shortMonthsParse,g),e!==-1?e:(e=ne.call(this._longMonthsParse,g),e!==-1?e:null)):(e=ne.call(this._longMonthsParse,g),e!==-1?e:(e=ne.call(this._shortMonthsParse,g),e!==-1?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ja(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!g(b))return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,"Month")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=se),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function pa(a){return qa(a)?366:365}function qa(a){return a%4===0&&a%100!==0||a%400===0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ua(a,b,c){var d=7+b-c,e=(7+ta(a,0,d).getUTCDay()-b)%7;return-e+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:c(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ga(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=ne.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=ye),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ae),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ua(a,b){return b._meridiemParse}function Va(a){return"p"===(a+"").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}function Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split("-"),b=e.length,c=Xa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return null}function Za(a){var b=null;if(!Fe[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Be._abbr,require("./locale/"+a),$a(b)}catch(a){}return Fe[a]}function $a(a,b){var c;return a&&(c=f(b)?bb(a):_a(a,b),c&&(Be=c)),Be._abbr}function _a(a,b){if(null!==b){var c=Ee;if(b.abbr=a,null!=Fe[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=Fe[a]._config;else if(null!=b.parentLocale){if(null==Fe[b.parentLocale])return Ge[b.parentLocale]||(Ge[b.parentLocale]=[]),Ge[b.parentLocale].push({name:a,config:b}),null;c=Fe[b.parentLocale]._config}return Fe[a]=new C(B(c,b)),Ge[a]&&Ge[a].forEach(function(a){_a(a.name,a.config)}),$a(a),Fe[a]}return delete Fe[a],null}function ab(a,b){if(null!=b){var c,d=Ee;null!=Fe[a]&&(d=Fe[a]._config),b=B(d,b),c=new C(b),c.parentLocale=Fe[a],Fe[a]=c,$a(a)}else null!=Fe[a]&&(null!=Fe[a].parentLocale?Fe[a]=Fe[a].parentLocale:null!=Fe[a]&&delete Fe[a]);return Fe[a]}function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Be;if(!c(a)){if(b=Za(a))return b;a=[a]}return Ya(a)}function cb(){return Ad(Fe)}function db(a){var b,c=a._a;return c&&n(a).overflow===-2&&(b=c[fe]<0||c[fe]>11?fe:c[ge]<1||c[ge]>ea(c[ee],c[fe])?ge:c[he]<0||c[he]>24||24===c[he]&&(0!==c[ie]||0!==c[je]||0!==c[ke])?he:c[ie]<0||c[ie]>59?ie:c[je]<0||c[je]>59?je:c[ke]<0||c[ke]>999?ke:-1,n(a)._overflowDayOfYear&&(b<ee||b>ge)&&(b=ge),n(a)._overflowWeeks&&b===-1&&(b=le),n(a)._overflowWeekday&&b===-1&&(b=me),n(a).overflow=b),a}function eb(a){var b,c,d,e,f,g,h=a._i,i=He.exec(h)||Ie.exec(h);if(i){for(n(a).iso=!0,b=0,c=Ke.length;b<c;b++)if(Ke[b][1].exec(i[1])){e=Ke[b][0],d=Ke[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Le.length;b<c;b++)if(Le[b][1].exec(i[3])){f=(i[2]||" ")+Le[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Je.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),lb(a)}else a._isValid=!1}function fb(a){var b,c,d,e,f,g,h,i,j={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},k="YXWVUTSRQPONZABCDEFGHIKLM";if(b=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),c=Ne.exec(b)){if(d=c[1]?"ddd"+(5===c[1].length?", ":" "):"",e="D MMM "+(c[2].length>10?"YYYY ":"YY "),f="HH:mm"+(c[4]?":ss":""),c[1]){var l=new Date(c[2]),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()];if(c[1].substr(0,3)!==m)return n(a).weekdayMismatch=!0,void(a._isValid=!1)}switch(c[5].length){case 2:0===i?h=" +0000":(i=k.indexOf(c[5][1].toUpperCase())-12,h=(i<0?" -":" +")+(""+i).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:h=j[c[5]];break;default:h=j[" GMT"]}c[5]=h,a._i=c.splice(1).join(""),g=" ZZ",a._f=d+e+f+g,lb(a),n(a).rfc2822=!0}else a._isValid=!1}function gb(b){var c=Me.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(eb(b),void(b._isValid===!1&&(delete b._isValid,fb(b),b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b)))))}function hb(a,b,c){return null!=a?a:null!=b?b:c}function ib(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function jb(a){var b,c,d,e,f=[];if(!a._d){for(d=ib(a),a._w&&null==a._a[ge]&&null==a._a[fe]&&kb(a),null!=a._dayOfYear&&(e=hb(a._a[ee],d[ee]),(a._dayOfYear>pa(e)||0===a._dayOfYear)&&(n(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[fe]=c.getUTCMonth(),a._a[ge]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[he]&&0===a._a[ie]&&0===a._a[je]&&0===a._a[ke]&&(a._nextDay=!0,a._a[he]=0),a._d=(a._useUTC?ta:sa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[he]=24)}}function kb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=hb(b.GG,a._a[ee],wa(tb(),1,4).year),d=hb(b.W,1),e=hb(b.E,1),(e<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(tb(),f,g);c=hb(b.gg,a._a[ee],j.year),d=hb(b.w,j.week),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>xa(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ee]=h.year,a._dayOfYear=h.dayOfYear)}function lb(b){if(b._f===a.ISO_8601)return void eb(b);if(b._f===a.RFC_2822)return void fb(b);b._a=[],n(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Jd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&n(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Md[f]?(d?n(b).empty=!1:n(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=i-j,h.length>0&&n(b).unusedInput.push(h),b._a[he]<=12&&n(b).bigHour===!0&&b._a[he]>0&&(n(b).bigHour=void 0),n(b).parsedDateParts=b._a.slice(0),n(b).meridiem=b._meridiem,b._a[he]=mb(b._locale,b._a[he],b._meridiem),jb(b),db(b)}function mb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function nb(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],lb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||f<d)&&(d=f,c=b));k(a,c||b)}function ob(a){if(!a._d){var b=L(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),jb(a)}}function pb(a){var b=new r(db(qb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function qb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(h(b)?a._d=b:c(d)?nb(a):d?lb(a):rb(a),o(a)||(a._d=null),a))}function rb(b){var e=b._i;f(e)?b._d=new Date(a.now()):h(e)?b._d=new Date(e.valueOf()):"string"==typeof e?gb(b):c(e)?(b._a=i(e.slice(0),function(a){return parseInt(a,10)}),jb(b)):d(e)?ob(b):g(e)?b._d=new Date(e):a.createFromInputFallback(b)}function sb(a,b,f,g,h){var i={};return f!==!0&&f!==!1||(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,pb(i)}function tb(a,b,c,d){return sb(a,b,c,d,!1)}function ub(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return tb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function vb(){var a=[].slice.call(arguments,0);return ub("isBefore",a)}function wb(){var a=[].slice.call(arguments,0);return ub("isAfter",a)}function xb(a){for(var b in a)if(Re.indexOf(b)===-1||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<Re.length;++d)if(a[Re[d]]){if(c)return!1;parseFloat(a[Re[d]])!==u(a[Re[d]])&&(c=!0)}return!0}function yb(){return this._isValid}function zb(){return Sb(NaN)}function Ab(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=xb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function Bb(a){return a instanceof Ab}function Cb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function Db(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Eb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Se)||["-",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Fb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||h(b)?b.valueOf():tb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):tb(b).local()}function Gb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Hb(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(b=Eb(_d,b),null===b)return this}else Math.abs(b)<16&&!d&&(b=60*b);return!this._isUTC&&c&&(e=Gb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?Xb(this,Sb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Gb(this)}function Ib(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Jb(a){return this.utcOffset(0,a)}function Kb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Gb(this),"m")),this}function Lb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Eb($d,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Mb(a){return!!this.isValid()&&(a=a?tb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Nb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ob(){if(!f(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=qb(a),a._a){var b=a._isUTC?l(a._a):tb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Pb(){return!!this.isValid()&&!this._isUTC}function Qb(){return!!this.isValid()&&this._isUTC}function Rb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Sb(a,b){var c,d,e,f=a,h=null;return Bb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:g(a)?(f={},b?f[b]=a:f.milliseconds=a):(h=Te.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:u(h[ge])*c,h:u(h[he])*c,m:u(h[ie])*c,s:u(h[je])*c,ms:u(Cb(1e3*h[ke]))*c}):(h=Ue.exec(a))?(c="-"===h[1]?-1:1,f={y:Tb(h[2],c),M:Tb(h[3],c),w:Tb(h[4],c),d:Tb(h[5],c),h:Tb(h[6],c),m:Tb(h[7],c),s:Tb(h[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Vb(tb(f.from),tb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Ab(f),Bb(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function Tb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Ub(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Vb(a,b){var c;return a.isValid()&&b.isValid()?(b=Fb(b,a),a.isBefore(b)?c=Ub(a,b):(c=Ub(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Wb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Sb(c,d),Xb(this,e,a),this}}function Xb(b,c,d,e){var f=c._milliseconds,g=Cb(c._days),h=Cb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,"Date",P(b,"Date")+g*d),h&&ja(b,P(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Yb(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Zb(b,c){var d=b||tb(),e=Fb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,tb(d)))}function $b(){return new r(this)}function _b(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function ac(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function bc(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function cc(a,b){var c,d=s(a)?a:tb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function dc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ec(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function fc(a,b,c){var d,e,f,g;return this.isValid()?(d=Fb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=gc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function gc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function hc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ic(){if(!this.isValid())return null;var a=this.clone().utc();return a.year()<0||a.year()>9999?X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function jc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",f=b+'[")]';return this.format(c+d+e+f)}function kc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)}function lc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mc(a){return this.from(tb(),a)}function nc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function oc(a){return this.to(tb(),a)}function pc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function qc(){return this._locale}function rc(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sc(a){return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function tc(){return this._d.valueOf()-6e4*(this._offset||0)}function uc(){return Math.floor(this.valueOf()/1e3)}function vc(){return new Date(this.valueOf())}function wc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function yc(){return this.isValid()?this.toISOString():null}function zc(){return o(this)}function Ac(){return k({},n(this))}function Bc(){return n(this).overflow}function Cc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dc(a,b){U(0,[a,a.length],0,b)}function Ec(a){return Ic.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fc(a){return Ic.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Gc(){return xa(this.year(),1,4)}function Hc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ic(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Jc.call(this,a,b,c,d,e))}function Jc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Kc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Lc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Mc(a,b){b[ke]=u(1e3*("0."+a))}function Nc(){return this._isUTC?"UTC":""}function Oc(){return this._isUTC?"Coordinated Universal Time":""}function Pc(a){return tb(1e3*a)}function Qc(){return tb.apply(null,arguments).parseZone()}function Rc(a){return a}function Sc(a,b,c,d){var e=bb(),f=l().set(d,b);return e[c](f,a)}function Tc(a,b,c){if(g(a)&&(b=a,a=void 0),a=a||"",null!=b)return Sc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Sc(a,d,c,"month");return e}function Uc(a,b,c,d){"boolean"==typeof a?(g(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,g(b)&&(c=b,b=void 0),b=b||"");var e=bb(),f=a?e._week.dow:0;if(null!=c)return Sc(b,(c+f)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=Sc(b,(h+f)%7,d,"day");return i}function Vc(a,b){return Tc(a,b,"months")}function Wc(a,b){return Tc(a,b,"monthsShort")}function Xc(a,b,c){return Uc(a,b,c,"weekdays")}function Yc(a,b,c){return Uc(a,b,c,"weekdaysShort")}function Zc(a,b,c){return Uc(a,b,c,"weekdaysMin")}function $c(){var a=this._data;return this._milliseconds=df(this._milliseconds),this._days=df(this._days),this._months=df(this._months),a.milliseconds=df(a.milliseconds),a.seconds=df(a.seconds),a.minutes=df(a.minutes),a.hours=df(a.hours),a.months=df(a.months),a.years=df(a.years),this}function _c(a,b,c,d){var e=Sb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function ad(a,b){return _c(this,a,b,1)}function bd(a,b){return _c(this,a,b,-1)}function cd(a){return a<0?Math.floor(a):Math.ceil(a)}function dd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*cd(fd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(ed(g)),h+=e,g-=cd(fd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ed(a){return 4800*a/146097}function fd(a){return 146097*a/4800}function gd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+ed(b),"month"===a?c:c/12;switch(b=this._days+Math.round(fd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function hd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN}function id(a){return function(){return this.as(a)}}function jd(a){return a=K(a),this.isValid()?this[a+"s"]():NaN}function kd(a){return function(){return this.isValid()?this._data[a]:NaN}}function ld(){return t(this.days()/7)}function md(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function nd(a,b,c){var d=Sb(a).abs(),e=uf(d.as("s")),f=uf(d.as("m")),g=uf(d.as("h")),h=uf(d.as("d")),i=uf(d.as("M")),j=uf(d.as("y")),k=e<=vf.ss&&["s",e]||e<vf.s&&["ss",e]||f<=1&&["m"]||f<vf.m&&["mm",f]||g<=1&&["h"]||g<vf.h&&["hh",g]||h<=1&&["d"]||h<vf.d&&["dd",h]||i<=1&&["M"]||i<vf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,md.apply(null,k)}function od(a){return void 0===a?uf:"function"==typeof a&&(uf=a,!0)}function pd(a,b){return void 0!==vf[a]&&(void 0===b?vf[a]:(vf[a]=b,"s"===a&&(vf.ss=b-1),!0))}function qd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=nd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function rd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=wf(this._milliseconds)/1e3,e=wf(this._days),f=wf(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var sd,td;td=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var ud=td,vd=a.momentProperties=[],wd=!1,xd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var yd;yd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c};var zd,Ad=yd,Bd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dd="Invalid date",Ed="%d",Fd=/\d{1,2}/,Gd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Hd={},Id={},Jd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ld={},Md={},Nd=/\d/,Od=/\d\d/,Pd=/\d{3}/,Qd=/\d{4}/,Rd=/[+-]?\d{6}/,Sd=/\d\d?/,Td=/\d\d\d\d?/,Ud=/\d\d\d\d\d\d?/,Vd=/\d{1,3}/,Wd=/\d{1,4}/,Xd=/[+-]?\d{1,6}/,Yd=/\d+/,Zd=/[+-]?\d+/,$d=/Z|[+-]\d\d:?\d\d/gi,_d=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[+-]?\d+(\.\d{1,3})?/,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={},de={},ee=0,fe=1,ge=2,he=3,ie=4,je=5,ke=6,le=7,me=8;zd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var ne=zd;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),Z("M",Sd),Z("MM",Sd,Od),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[fe]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[fe]=e:n(c).invalidMonth=a});var oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),re=be,se=be;U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),Z("Y",Zd),Z("YY",Sd,Od),Z("YYYY",Wd,Qd),Z("YYYYY",Xd,Rd),Z("YYYYYY",Xd,Rd),ba(["YYYYY","YYYYYY"],ee),ba("YYYY",function(b,c){c[ee]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba("YY",function(b,c){c[ee]=a.parseTwoDigitYear(b)}),ba("Y",function(a,b){b[ee]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var te=O("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),Z("w",Sd),Z("ww",Sd,Od),Z("W",Sd),Z("WW",Sd,Od),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var ue={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),Z("d",Sd),Z("e",Sd),Z("E",Sd),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),we="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ye=be,ze=be,Ae=be;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,Sa),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),J("hour","h"),M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Sd),Z("h",Sd),Z("k",Sd),Z("HH",Sd,Od),Z("hh",Sd,Od),Z("kk",Sd,Od),Z("hmm",Td),Z("hmmss",Ud),Z("Hmm",Td),Z("Hmmss",Ud),ba(["H","HH"],he),ba(["k","kk"],function(a,b,c){var d=u(a);b[he]=24===d?0:d}),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[he]=u(a),n(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d)),n(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e)),n(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e))});var Be,Ce=/[ap]\.?m?\.?/i,De=O("Hours",!0),Ee={calendar:Bd,longDateFormat:Cd,invalidDate:Dd,ordinal:Ed,dayOfMonthOrdinalParse:Fd,relativeTime:Gd,months:pe,monthsShort:qe,week:ue,weekdays:ve,weekdaysMin:xe,weekdaysShort:we,meridiemParse:Ce},Fe={},Ge={},He=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/Z|[+-]\d\d(?::?\d\d)?/,Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Me=/^\/?Date\((\-?\d+)/i,Ne=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;a.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Oe=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:p()}),Pe=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),Qe=function(){return Date.now?Date.now():+new Date},Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];Db("Z",":"),Db("ZZ",""),Z("Z",_d),Z("ZZ",_d),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Eb(_d,a)});var Se=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Te=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Sb.fn=Ab.prototype,Sb.invalid=zb;var Ve=Wb(1,"add"),We=Wb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dc("gggg","weekYear"),Dc("ggggg","weekYear"),Dc("GGGG","isoWeekYear"),Dc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),Z("G",Zd),Z("g",Zd),Z("GG",Sd,Od),Z("gg",Sd,Od),Z("GGGG",Wd,Qd),Z("gggg",Wd,Qd),Z("GGGGG",Xd,Rd),Z("ggggg",Xd,Rd),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),U("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),Z("Q",Nd),ba("Q",function(a,b){b[fe]=3*(u(a)-1)}),U("D",["DD",2],"Do","date"),J("date","D"),M("date",9),Z("D",Sd),Z("DD",Sd,Od),Z("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),ba(["D","DD"],ge),ba("Do",function(a,b){b[ge]=u(a.match(Sd)[0],10)});var Ye=O("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),Z("DDD",Vd),Z("DDDD",Pd),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),U("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),Z("m",Sd),Z("mm",Sd,Od),ba(["m","mm"],ie);var Ze=O("Minutes",!1);U("s",["ss",2],0,"second"),J("second","s"),M("second",15),Z("s",Sd),Z("ss",Sd,Od),ba(["s","ss"],je);var $e=O("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),Z("S",Vd,Nd),Z("SS",Vd,Od),Z("SSS",Vd,Pd);var _e;for(_e="SSSS";_e.length<=9;_e+="S")Z(_e,Yd);for(_e="S";_e.length<=9;_e+="S")ba(_e,Mc);var af=O("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var bf=r.prototype;bf.add=Ve,bf.calendar=Zb,bf.clone=$b,bf.diff=fc,bf.endOf=sc,bf.format=kc,bf.from=lc,bf.fromNow=mc,bf.to=nc,bf.toNow=oc,bf.get=R,bf.invalidAt=Bc,bf.isAfter=_b,bf.isBefore=ac,bf.isBetween=bc,bf.isSame=cc,bf.isSameOrAfter=dc,bf.isSameOrBefore=ec,bf.isValid=zc,bf.lang=Xe,bf.locale=pc,bf.localeData=qc,bf.max=Pe,bf.min=Oe,bf.parsingFlags=Ac,bf.set=S,bf.startOf=rc,bf.subtract=We,bf.toArray=wc,bf.toObject=xc,bf.toDate=vc,bf.toISOString=ic,bf.inspect=jc,bf.toJSON=yc,bf.toString=hc,bf.unix=uc,bf.valueOf=tc,bf.creationData=Cc,bf.year=te,bf.isLeapYear=ra,bf.weekYear=Ec,bf.isoWeekYear=Fc,bf.quarter=bf.quarters=Kc,bf.month=ka,bf.daysInMonth=la,bf.week=bf.weeks=Ba,bf.isoWeek=bf.isoWeeks=Ca,bf.weeksInYear=Hc,bf.isoWeeksInYear=Gc,bf.date=Ye,bf.day=bf.days=Ka,bf.weekday=La,bf.isoWeekday=Ma,bf.dayOfYear=Lc,bf.hour=bf.hours=De,bf.minute=bf.minutes=Ze,bf.second=bf.seconds=$e,bf.millisecond=bf.milliseconds=af,bf.utcOffset=Hb,bf.utc=Jb,bf.local=Kb,bf.parseZone=Lb,bf.hasAlignedHourOffset=Mb,bf.isDST=Nb,bf.isLocal=Pb,bf.isUtcOffset=Qb,bf.isUtc=Rb,bf.isUTC=Rb,bf.zoneAbbr=Nc,bf.zoneName=Oc,bf.dates=x("dates accessor is deprecated. Use date instead.",Ye),bf.months=x("months accessor is deprecated. Use month instead",ka),bf.years=x("years accessor is deprecated. Use year instead",te),bf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ib),bf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ob);var cf=C.prototype;cf.calendar=D,cf.longDateFormat=E,cf.invalidDate=F,cf.ordinal=G,cf.preparse=Rc,cf.postformat=Rc,cf.relativeTime=H,cf.pastFuture=I,cf.set=A,cf.months=fa,cf.monthsShort=ga,cf.monthsParse=ia,cf.monthsRegex=na,cf.monthsShortRegex=ma,cf.week=ya,cf.firstDayOfYear=Aa,cf.firstDayOfWeek=za,cf.weekdays=Fa,cf.weekdaysMin=Ha,cf.weekdaysShort=Ga,cf.weekdaysParse=Ja,cf.weekdaysRegex=Na,cf.weekdaysShortRegex=Oa,cf.weekdaysMinRegex=Pa,cf.isPM=Va,cf.meridiem=Wa,$a("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var df=Math.abs,ef=id("ms"),ff=id("s"),gf=id("m"),hf=id("h"),jf=id("d"),kf=id("w"),lf=id("M"),mf=id("y"),nf=kd("milliseconds"),of=kd("seconds"),pf=kd("minutes"),qf=kd("hours"),rf=kd("days"),sf=kd("months"),tf=kd("years"),uf=Math.round,vf={ss:44,s:45,m:45,h:22,d:26,M:11},wf=Math.abs,xf=Ab.prototype;return xf.isValid=yb,xf.abs=$c,xf.add=ad,xf.subtract=bd,xf.as=gd,xf.asMilliseconds=ef,xf.asSeconds=ff,xf.asMinutes=gf,xf.asHours=hf,xf.asDays=jf,xf.asWeeks=kf,xf.asMonths=lf,xf.asYears=mf,xf.valueOf=hd,xf._bubble=dd,xf.get=jd,xf.milliseconds=nf,xf.seconds=of,xf.minutes=pf,xf.hours=qf,xf.days=rf,xf.weeks=ld,xf.months=sf,xf.years=tf,xf.humanize=qd,xf.toISOString=rd,xf.toString=rd,xf.toJSON=rd,xf.locale=pc,xf.localeData=qc,xf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rd),xf.lang=Xe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Zd),Z("X",ae),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.18.1",b(tb),a.fn=bf,a.min=vb,a.max=wb,a.now=Qe,a.utc=l,a.unix=Pc,a.months=Vc,a.isDate=h,a.locale=$a,a.invalid=p,a.duration=Sb,a.isMoment=s,a.weekdays=Xc,a.parseZone=Qc,a.localeData=bb,a.isDuration=Bb,a.monthsShort=Wc,a.weekdaysMin=Zc,a.defineLocale=_a,a.updateLocale=ab,a.locales=cb,a.weekdaysShort=Yc,a.normalizeUnits=K,a.relativeTimeRounding=od,a.relativeTimeThreshold=pd,a.calendarFormat=Yb,a.prototype=bf,a});0}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{utag_trackingOptOut=function(){document.cookie='utag_optout=1;path=/;domain='+utag.cfg.domain+';expires=expires=Thu, 31 Dec 2099 00:00:00 GMT;'};utag_trackingOptIn=function(){document.cookie='utag_optout=0;path=/;domain='+utag.cfg.domain+';expires=expires=Thu, 31 Dec 2099 00:00:00 GMT;'};if(document.cookie.indexOf('utag_optout=1')>-1){if(typeof utag_cfg_ovrd=='undefined')utag_cfg_ovrd={};utag_cfg_ovrd['noload']=1}}catch(e){}};if(!utag_condload){try{try{if(typeof(window.DDSContext)!="undefined"&&window.DDSContext.OWD_MODE=="TRUE"){window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};window.utag_cfg_ovrd.noview=true;setTimeout(function(){cxTealium.utag.view(window.cxDataLayer);},500);}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{window.cxTealium=(function(){return{track:{errors:function(a){if(typeof(window.DDSContext)!=='undefined'&&window.DDSContext.OWD_MODE==="FALSE"){var temp={'ga_events_array':[]};a.forEach(function(t){temp['ga_events_array'].push({eventAction:t.error_code,eventCategory:t.error_category,eventLabel:t.error_description});});utag.link(temp);}},event:function(){},pageview:function(){},registration:function(){},element:function(){},funnel:function(){}},cart:{addition:function(a){},removal:function(a){},collection:function(p){p.collection={};p.collection.products={};var products_map=["currency","pax_type","price","product_category","product_category_slashified","product_id","product_name","qty","type"];var collection_map=["currencies","pax_types","prices","product_categories","product_categories_slashified","product_ids","product_names","qtys","types"];for(var i=0;i<products_map.length;i++){p.collection.products[collection_map[i]]=[];p.collection.products[collection_map[i]]=p.collection.products[collection_map[i]].concat(p[products_map[i]]);};return p;}},privacy:{opt_in:function(){utag_trackingOptIn();cxTealium.utag.link({event_id:'PRIVACY::OPT-IN::ALL',event_category:'PRIVACY',event_action:'PRIVACY::OPT-IN',event_label:'PRIVACY::OPT-IN::ALL'});},opt_out:function(){utag_trackingOptOut();cxTealium.utag.link({event_id:'PRIVACY::OPT-OUT::ALL',event_category:'PRIVACY',event_action:'PRIVACY::OPT-OUT',event_label:'PRIVACY::OPT-OUT::ALL'});}},utag:{link:function(udo,cb,uids){udo=cxTealium.ut.flatten(udo);return utag.link(udo,cb,uids);},view:function(udo,cb,uids){udo=cxTealium.ut.flatten(udo);if(typeof(udo['page.page_name'])!='undefined'&&(udo['page.page_name']=='RIBE - SELECT DATES'||udo['page.page_name']=='RIBE - PASSENGERS INFORMATION'||udo['page.page_name']=='RIBE - REVIEW AND PAY'||udo['page.page_name']=='RIBE - CONFIRMATION')){return};if(udo['page.page_action']=='detail'){udo['vendor.ga.ecommerce_action']='suspend';};cb=cxTealium.ut.tealeaf;return utag.view(udo,cb,uids);}},ut:{catch_ajax:function(pattern,cb){var origOpen=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){if(typeof arguments==='object'&&arguments.length>=2&&arguments[1].indexOf(pattern)!=-1){this.addEventListener("load",function(){cb(this);});}
origOpen.apply(this,arguments);};},capitalise:function(str){return str.charAt(0).toUpperCase()+string.slice(1).toLowerCase()},concat:function(arr,del){var d=del||"|";return arr.join(d);},flatten:function(ob){var toReturn={};for(var i in ob){if(!ob.hasOwnProperty(i))continue;if(typeof ob[i]=='object'&&!(ob[i]instanceof Array)){var flatObject=cxTealium.ut.flatten(ob[i]);for(var x in flatObject){if(!flatObject.hasOwnProperty(x))continue;toReturn[i+'.'+x]=flatObject[x];}}else{toReturn[i]=ob[i];}}
return toReturn;},get_application_name:function(ff){return(function(u){var m={"TIME-TABLE":"/timetable.h","MPO":"/frequent-flyers","MMB":"/manage-booking","OLCI":"olci","RIBE":"CathayPacificV3","IBE-REDEMPTION":"CathayPacificAward","TRP":"holidays.ca"};for(var app in m){if(u.toLowerCase().indexOf(m[app].toLowerCase())!=-1){var a=app;break;}};return a||"AEM";})(document.URL);},get_ff_name:function(ff){if(ff.indexOf("RES_")===0){if(ff.split("_")[2]){ff_n=ff.split("_")
ff_n.splice(0,2)
ff_name=ff_n.join("-")}else{ff_name={"SL100":"FLEX","SL1000":"SAVE","SL1100":"SUPERSAVER","SL200":"STANDARD","SL300":"FLEX","SL400":"STANDARD","SL500":"SAVE","SL520":"FLEX","SL550":"STANDARD","SL600":"FLEX","SL700":"STANDARD","SL800":"CORE","SL900":"SPECIAL"}[ff.split("_")[1]]}
}else if(ff.indexOf("CJ")===0||ff.indexOf("PR")===0||ff.indexOf("KA")===0){ff_map={"CC":"CREDIT-CARD","GS":"FANFARES","GV":"GV","SEA":"SEAMAN","MIC":"MICE","STU":"STUDENT","CUG":"CUG","TGT":"TGT","LBR":"DOMESTIC-HELPER","SF":"SPECIAL-FARE","SBS":"SBS","SNR":"SENIOR","YTH":"YOUTH","LEV":"COTS"}
ff_key=ff.replace(/ECO|PEY|BUS|FIR/,"|").split("|")[1]
ff_name=ff_map[ff_key.slice(-2)]||ff_map[ff_key.slice(-3)]
}else if(ff.indexOf("PT1")!=-1||ff.indexOf("PT2")!=-1){ff_name=(ff.indexOf("PT1")!=-1)?"PRIORITY-TIER-1":"PRIORITY-TIER-2";}else if(/STDECO|STDPEY|STDBUS|STDFIR/.test(ff)){ff_name="STANDARD";}else if(/ECO|PEY|BUS|FIR/.test(ff)){ff_map={"PR":"SUPERSAVER","VR":"SAVE","RS":"SPECIAL","SR":"CORE","SF":"STANDARD","FF":"FLEX"};ff_name=ff_map[ff.replace(/ECO|PEY|BUS|FIR/,"|").split("|")[1].substring(0,2)];};return ff_name},get_highest_cabin:function(t,m){var t=t||"";var c;if(t.indexOf("F")!=-1){c="F"}else if(t.indexOf("C")!=-1){c="C"}else if(t.indexOf("W")!=-1){c="W"}else if(t.indexOf("Y")!=-1){c="Y"};return(m==true&&typeof(c)!="undefined")?cxTealium.ut.get_cabin_name_from_cabin_code(c):c;},get_route:function(o,d,t){var r;if(t=="O"){r=[o,d].join("_")}else if(t=="R"){r=[o,d,"|",d,o].join("_").replace("_|_","|");}else if(t=="M"){r=window.DDSContext.FLIGHT_SECTORS.split("-").map(function(a){var s=a.split(",");return[s[0],s.pop()].join("_")}).join("|");}
return r},get_segmented_cabins_from_rbds:function(t,dl){return t?t.split(dl).map(function(c){return cxTealium.ut.get_cabin_code_from_rbd(c)}).join("|"):null;},map:function(arr,attr){var n=[];for(var i=0;i<arr.length;i++){n.push(arr[i][attr]);};return arr.map(function(a){return a[attr];});},get_cabin_code_from_ff:function(ff){return{"ECO":"Y","PEY":"W","BUS":"C","FIR":"F"}[ff.substring(3,6)];},get_cabin_code_from_rbd:function(c){return{"F":"F","A":"F","Z":"F","J":"C","C":"C","D":"C","I":"C","U":"C","P":"C","W":"W","R":"W","E":"W","T":"W"}[c]||"Y"},get_cabin_name_from_cabin_code:function(c){return{"Y":"ECONOMY","W":"PEY","C":"BUSINESS","F":"FIRST"}[c];},get_cabin_name_translation:function(c){return window.translations["PINS.text.SeatMap."+{"Y":"Economy","W":"Premium Economy","C":"Business","F":"First"}[c]];},get_pax_type:function(p){return{"A":"ADULT","C":"CHILD","I":"INFANT"}[p.substring(0,1).toUpperCase()];},get_and_concat:function(array,attr,delimiter){var new_array=cxTealium.ut.map(array,attr);return cxTealium.ut.concat(new_array,delimiter);},pad:function(str,_char,len,to){if(!str||!_char||str.length>=len){return str;}
to=to||0;var ret=str;var max=(len-str.length)/_char.length+1;while(--max){ret=(to)?ret+_char:_char+ret;}
return ret;},to_proper_case:function(s){return s.toLowerCase().replace(/(^[a-z]| [a-z]|-[a-z])/g,function($1){return $1.toUpperCase();});},get_object_key:function(o,v){for(var key in o){if(o[key]==v){return key;}}
return null;},get_pageBom:function(n){var pb=window.pageBom;if(typeof pb.dictionaries.all=="undefined"){if(typeof pb.dictionaries.classNamesDictionary=="undefined"){var d=pb.dictionaries.classNameDictionary;}else{var d=pb.dictionaries.classNamesDictionary;}
var i=cxTealium.ut.get_object_key(d,n);return pb.dictionaries.values[i];}else{return pb.dictionaries.all[n];}},get_pax_combination:function(a,c,i){var pax={"A":a,"C":c,"I":i};var pax_initials=[];for(x in pax){for(var i=0,no_of_pax=pax[x],l=no_of_pax;i<l;i++){pax_initials.push(x)}};return(cxTealium.ut.pad(pax_initials.join(''),'0',9,1));},sum:function(array){var count=0;for(var i=array.length;i--;){count+=parseFloat(array[i]);}
return count},get_with_qty:function(array,attr){var attrs=[];for(var i=0;i<array.length;i++){for(var q=0;q<array[i].qty;q++){attrs.push(eval("array[i]"+'["'+attr.replace(/\./g,'"]["')+'"]'))};};return attrs;},sum_with_qty:function(array,attr){floats=[];mapped_items=cxTealium.helper.get_with_qty(array,attr)
for(var i=0;i<mapped_items.length;i++){floats.push(parseFloat(mapped_items[i]));};var sum=this.sum(floats)
return parseFloat(parseFloat(sum).toFixed(2))},tealeaf:function(){if(typeof(window.udo)!="undefined"&&typeof(window.TLT)!="undefined"&&typeof(DDSContext)!="undefined"){if(window.DDSContext.OWD_MODE=="TRUE"){TLT.logScreenviewLoad(window.cxDataLayer.page.name);}else{TLT.logScreenviewLoad(window.udo["page.page_id"].replace(/::/g,"/"));}};}
}}})();var cxDataLayer=window.cxDataLayer||{};}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{try{if(document.URL.indexOf("/cx/")!=-1&&document.cookie.indexOf("mlc_cookie")!=-1&&document.URL.indexOf("manage-booking")==-1){cxProfile.done(function(p){window.cxDataLayer=window.cxDataLayer||{};if(typeof cxDataLayer.registration==='undefined'){var t="";}else{var t=typeof cxDataLayer.registration.hash_id==='undefined'?"":cxDataLayer.registration.hash_id;};cxDataLayer.registration=(function(p){return{email_subscriber:p.receivingCXPromotionConsent,registration_id:p.membershipNumber,email:p.email==null?"":p.email.toLowerCase(),club_sectors:p.clubSectors,club_miles:p.clubMiles,asia_miles:p.asiaMiles,title:p.title==null?"":p.title.toUpperCase(),last_name:p.familyName,type:p.currentTier,member_type:p.currentTier==null?"GU":p.currentTier,hash_id:t};})(p);});};}
catch(err){console.log(err);}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{(function(cv,dt,tl,i,cd,pt,sp){dt={c1:0,0:0};function GV(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}return b}if((""+document.cookie).match("OPTOUTMULTI=([^\S;]*)")){cv=unescape(RegExp.$1);tl=(""+cv!="")?(cv).split("|"):[];for(i=0;i<tl.length;i+=1){var pt=tl[i].split(":");if(pt.length>1){dt[pt[0]]=pt[1]*1;if((pt[0]*1==0)&&(pt[1]*1==1)){window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};window.utag_cfg_ovrd.nocookie=true;}}else{dt[pt[0]]=1;}}}tl=[];for(i in GV(dt)){tl.push(i+":"+dt[i]);}sp="";cv="";for(i in GV(tl)){cv+=sp+tl[i];sp="|";}cd=new Date();cd.setDate(cd.getDate()+90);dt=""+location.hostname;tl=dt.split(".");pt=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\./.test(dt))?3:2;sp=tl.splice(tl.length-pt,pt).join(".");document.cookie="OPTOUTMULTI="+encodeURI(cv)+";domain="+sp+";path=/; expires="+cd.toGMTString()+";";})();}catch(e){}};if(typeof utag=="undefined"&&!utag_condload){var utag={id:"cx.web",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_cx.web_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(tid,tcat,a,b,c,d,f,g){g={};utag.loader.RDcp(g);try{if(typeof g['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(g['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0;if(c[f].tid==tid&&c[f].tcat==b[0].substring(1))return true;}
if(tcat==b[0].substring(1))return true;}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}
if(tid==b[0])return true;}}}}}catch(e){utag.DB(e)}
return false;},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;t["tealium_event"]=o["ut.event"]=a||"view";t["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];t["tealium_session_number"]=o["cp.utag_main__sn"];t["tealium_session_event_number"]=o["cp.utag_main__se"];try{t["tealium_datasource"]=utag.cfg.datasource;t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,0);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__se"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";o["cp.utag_main__se"]=(1+parseInt(o["cp.utag_main__se"]||0))+"";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;utag.loader.SC("utag_main",{"_sn":(o["cp.utag_main__sn"]||1),"_se":o["cp.utag_main__se"],"_ss":o["cp.utag_main__ss"],"_st":c,"ses_id":(o["cp.utag_main_ses_id"]||a)+";exp-session","_pn":o["cp.utag_main__pn"]+";exp-session"});},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=utag.cfg.path;w=v.indexOf(".tiqcdn.");if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:v.substring(0,v.indexOf("/ut"+"ag/")+6)+"tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a||{},cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a||{},cfg:{cb:c,uids:d}})},track:function(a,b,c,d,e){a=a||{};if(typeof a=="string"){a={event:a,data:b||{},cfg:{cb:c,uids:d}}}
for(e in utag.loader.GV(utag.o)){utag.o[e].handler.trigger(a.event||"view",a.data||a,a.cfg||{cb:b,uids:c})}
a.cfg=a.cfg||{cb:b};if(typeof a.cfg.cb=="function")a.cfg.cb();return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];if(!utag.loader.OU(utag.loader.cfg[d].tid)){sendTag(a,b,d);}}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){m.parentNode.removeChild(m);}
b=a.createElement("iframe");o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(typeof o.error=="function"){utag.loader.EV(b,"error",o.error);}
if(o.type!="img"){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['cx.web']=utag;utag.cfg={template:"ut4.46.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##"+"UTDATASOURCE##",""),path:"//tags.tiqcdn.com/utag/cx/web/prod/",utid:"cx/web/201904240753"};utag.cfg.v=utag.cfg.template+"201904240753";utag.cond={100:0,101:0,102:0,104:0,105:0,106:0,10:0,113:0,117:0,118:0,11:0,121:0,122:0,123:0,124:0,126:0,128:0,129:0,12:0,130:0,131:0,133:0,13:0,145:0,148:0,14:0,150:0,151:0,152:0,153:0,158:0,15:0,165:0,16:0,180:0,18:0,193:0,205:0,214:0,21:0,221:0,225:0,226:0,235:0,268:0,282:0,295:0,296:0,2:0,304:0,305:0,307:0,308:0,309:0,310:0,311:0,312:0,313:0,314:0,315:0,316:0,320:0,321:0,324:0,325:0,327:0,328:0,329:0,330:0,331:0,333:0,334:0,335:0,337:0,338:0,340:0,341:0,342:0,343:0,344:0,350:0,351:0,352:0,353:0,354:0,355:0,356:0,357:0,358:0,359:0,360:0,362:0,363:0,364:0,366:0,367:0,368:0,369:0,370:0,371:0,372:0,373:0,374:0,375:0,376:0,377:0,378:0,379:0,380:0,381:0,382:0,42:0,43:0,45:0,48:0,49:0,4:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,5:0,64:0,65:0,66:0,67:0,6:0,7:0,87:0,8:0,91:0,95:0,97:0,9:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.is_sample']=is_sample}catch(e){utag.DB(e)};try{ud['js_page.pageBom.modelObject.pnrRecap.asrChargeable']=pageBom.modelObject.pnrRecap.asrChargeable}catch(e){utag.DB(e)};try{ud['js_page.window.performance.navigation.type']=window.performance.navigation.type}catch(e){utag.DB(e)};try{ud['js_page.staticFilesPath']=staticFilesPath}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.OWD_MODE']=DDSContext.OWD_MODE}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.PROMO_CODE']=DDSContext.PROMO_CODE}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.TAG_UPSELL_INDICATOR']=DDSContext.TAG_UPSELL_INDICATOR}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.BOOKING_FLOW']=DDSContext.BOOKING_FLOW}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.BOH_PAY_LATER_SELECTED']=DDSContext.BOH_PAY_LATER_SELECTED}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.BOH_PAY_LATER']=DDSContext.BOH_PAY_LATER}catch(e){utag.DB(e)};try{ud['js_page.pageBom.modelObject.pnrRecap.exlChargeable']=pageBom.modelObject.pnrRecap.exlChargeable}catch(e){utag.DB(e)};try{ud['js_page.pageBom.modelObject.pnrRecap.exlFree']=pageBom.modelObject.pnrRecap.exlFree}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.RH_ENABLE']=DDSContext.RH_ENABLE}catch(e){utag.DB(e)};try{ud['js_page.errorBom']=errorBom}catch(e){utag.DB(e)};try{ud['js_page.errors']=errors}catch(e){utag.DB(e)};try{ud['js_page.pageCode']=pageCode}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.miniPNR']=DDSContext.miniPNR}catch(e){utag.DB(e)};try{ud['js_page.DDSProfile.USER_ID']=DDSProfile.USER_ID}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.SITE']=DDSContext.SITE}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.FLIGHT_DATES']=DDSContext.FLIGHT_DATES}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.INSURANCE_SELECTED']=DDSContext.INSURANCE_SELECTED}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.CURRENCY_CODE']=DDSContext.CURRENCY_CODE}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.OFFICE_ID']=DDSContext.OFFICE_ID}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.EXTERNAL_ID']=DDSContext.EXTERNAL_ID}catch(e){utag.DB(e)};try{ud['js_page.DDSContext.DISCOUNT_CODE']=DDSContext.DISCOUNT_CODE}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'10':try{c[10]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SERVICE'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())}catch(e){utag.DB(e)};break;case'100':try{c[100]|=(d['dom.url'].toString().toLowerCase().indexOf('/destinations/'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'101':try{c[101]|=(d['page.language'].toString().toLowerCase()=='zh'.toLowerCase())||(d['page.language'].toString().toLowerCase()=='ko'.toLowerCase())||(d['page.language'].toString().toLowerCase()=='jp'.toLowerCase())}catch(e){utag.DB(e)};break;case'102':try{c[102]|=(d['application.name'].toString().toLowerCase()!='RIBE'.toLowerCase())}catch(e){utag.DB(e)};break;case'104':try{c[104]|=(d['application.env'].toString().toLowerCase()=='PROD'.toLowerCase())}catch(e){utag.DB(e)};break;case'105':try{c[105]|=(d['application.name'].toString().toLowerCase()=='OLCI'.toLowerCase())}catch(e){utag.DB(e)};break;case'106':try{c[106]|=(d['page.country'].toString().toLowerCase()!='CN'.toLowerCase())}catch(e){utag.DB(e)};break;case'11':try{c[11]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('REVIEW_AND_PAY'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())}catch(e){utag.DB(e)};break;case'113':try{c[113]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('CONFIRMATION'.toLowerCase())>-1&&d['dom.url'].toString().toLowerCase().indexOf('ACTION=HOLD'.toLowerCase())>-1&&d['page.page_id'].toString().toLowerCase().indexOf('REVIEW_AND_PAY'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'117':try{c[117]|=(d['dom.url'].toString().toLowerCase().indexOf('/manage-booking/manage-booking-now.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'118':try{c[118]|=(d['dom.url'].toString().toLowerCase().indexOf('/manage-booking/manage-booking-now/view-summary.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'12':try{c[12]|=(d['page.language'].toString().toLowerCase()=='EN'.toLowerCase())}catch(e){utag.DB(e)};break;case'121':try{c[121]|=(d['page.page_id'].toString().indexOf('TRP::PACKAGE::SELECT PACKAGE')>-1)}catch(e){utag.DB(e)};break;case'122':try{c[122]|=(d['page.page_id'].toString().indexOf('TRP::PACKAGE::REVIEW')>-1)}catch(e){utag.DB(e)};break;case'123':try{c[123]|=(d['page.page_id'].toString().indexOf('TRP::PACKAGE::PASSENGER')>-1)}catch(e){utag.DB(e)};break;case'124':try{c[124]|=(d['page.page_id'].toString().indexOf('TRP::HOTEL::CONFIRMATION')>-1)}catch(e){utag.DB(e)};break;case'126':try{c[126]|=(d['page.page_id'].toString().indexOf('TRP::PACKAGE::CONFIRMATION')>-1)}catch(e){utag.DB(e)};break;case'128':try{c[128]|=(d['page.page_id'].toString().indexOf('TRP::HOTEL::SELECT HOTEL')>-1)}catch(e){utag.DB(e)};break;case'129':try{c[129]|=(d['page.page_id'].toString().indexOf('TRP::HOTEL::REVIEW')>-1)}catch(e){utag.DB(e)};break;case'13':try{c[13]|=(/sc|zh|ko|ja/.test(d['page.language']))}catch(e){utag.DB(e)};break;case'130':try{c[130]|=(d['page.page_id'].toString().indexOf('TRP::HOTEL::GUEST DETAILS')>-1)}catch(e){utag.DB(e)};break;case'131':try{c[131]|=(d['page.page_id'].toString().indexOf('TRP::PACKAGE::PACKAGE DETAILS')>-1)}catch(e){utag.DB(e)};break;case'133':try{c[133]|=(d['page.page_id_slashified']=='TRP/PACKAGE/PAYMENT')}catch(e){utag.DB(e)};break;case'14':try{c[14]|=(d['page.country'].toString().toLowerCase()=='AU'.toLowerCase())}catch(e){utag.DB(e)};break;case'145':try{c[145]|=(d['dom.url'].toString().indexOf('_HK/offers/collection/wake-up-fresh-in-europe.html')>-1)}catch(e){utag.DB(e)};break;case'148':try{c[148]|=(d['page.page_id'].toString().toLowerCase().indexOf('config/external/ribe-frame'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'15':try{c[15]|=(d['page.country'].toString().toLowerCase()=='US'.toLowerCase())}catch(e){utag.DB(e)};break;case'150':try{c[150]|=(d['dom.url'].toString().indexOf('/offers/business-travel/business-plus.html')>-1)}catch(e){utag.DB(e)};break;case'151':try{c[151]|=(/en_AU|en_BH|en_CA|en_IN|en_NZ|en_PH|en_SA|en_SG|en_ZA|en_AE|en_GB|en_US|EN_(AU|BH|CA|IN|NZ|PH|SA|SG|ZA|AE|GB|US)/.test(d['page.locale']))}catch(e){utag.DB(e)};break;case'152':try{c[152]|=(d['dom.url'].toString().indexOf('/cx-bp/')>-1&&d['dom.url'].toString().indexOf('/company-registration.html')>-1)}catch(e){utag.DB(e)};break;case'153':try{c[153]|=(d['dom.url'].toString().indexOf('/cx-bp/')>-1&&d['dom.url'].toString().indexOf('/company-registration.html/confirm')>-1)}catch(e){utag.DB(e)};break;case'158':try{c[158]|=(typeof d['va.properties.5510']=='undefined')}catch(e){utag.DB(e)};break;case'16':try{c[16]|=(d['page.country'].toString().toLowerCase()=='JP'.toLowerCase())}catch(e){utag.DB(e)};break;case'165':try{c[165]|=(d['dom.url'].toString().toLowerCase().indexOf('/flights-'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'18':try{c[18]|=(/^\/WHERE-TO-FLY/.test(d['page.page_id']))}catch(e){utag.DB(e)};break;case'180':try{c[180]|=(d['application.name']=='AEM')}catch(e){utag.DB(e)};break;case'193':try{c[193]|=(d['dom.url'].toString().indexOf('_HK/latest-offers/flights/fanfares/index')>-1)}catch(e){utag.DB(e)};break;case'2':try{c[2]|=(d['application.name'].toString().toLowerCase()=='RIBE'.toLowerCase())}catch(e){utag.DB(e)};break;case'205':try{c[205]|=(d['application.name'].toString().toLowerCase()!='AEM'.toLowerCase())}catch(e){utag.DB(e)};break;case'21':try{c[21]|=(d['page.country'].toString().toLowerCase()=='NZ'.toLowerCase())}catch(e){utag.DB(e)};break;case'214':try{c[214]|=(d['application.name']=='MMB'&&d['application.version'].toString().toLowerCase()=='R1'.toLowerCase())||(d['application.name']=='MMB'&&d['application.version'].toString().toLowerCase().indexOf('R2'.toLowerCase())>-1)||(d['application.name']=='MMB'&&d['application.version'].toString().toLowerCase().indexOf('R3'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'221':try{c[221]|=(d['dom.url'].toString().toLowerCase().indexOf('/login'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'225':try{c[225]|=(d['dom.url'].toString().toLowerCase().indexOf('holidays.cathaypacific'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'226':try{c[226]|=(d['page.country'].toString().toLowerCase()=='IE'.toLowerCase())}catch(e){utag.DB(e)};break;case'235':try{c[235]|=(d['page.country'].toString().toLowerCase()!='JP'.toLowerCase())}catch(e){utag.DB(e)};break;case'268':try{c[268]|=(d['page.page_type'].toString().toLowerCase()=='homepage'.toLowerCase())||(d['dom.url'].toString().indexOf('/offers.html')>-1)||(/^\/WHERE-TO-FLY/.test(d['page.page_id']))||(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SELECT_FLIGHT'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())||(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SELECT_DATE'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())}catch(e){utag.DB(e)};break;case'282':try{c[282]|=(typeof d['registration.hash_id']!='undefined'&&d['registration.hash_id']!='')}catch(e){utag.DB(e)};break;case'295':try{c[295]|=(d['application.name'].toString().toLowerCase()!='MMB'.toLowerCase())}catch(e){utag.DB(e)};break;case'296':try{c[296]|=(d['application.name'].toString().toLowerCase()!='OLCI'.toLowerCase())}catch(e){utag.DB(e)};break;case'304':try{c[304]|=(d['registration.type'].toString().toLowerCase().indexOf('AM'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'305':try{c[305]|=(d['search.params.origin.country'].toString().toLowerCase().indexOf('HK'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'307':try{c[307]|=(d['page.name'].toString().indexOf('OUTBOUND')>-1&&d['page.name'].toString().indexOf('RIBE')>-1&&d['page.stream'].toString().indexOf('REV')>-1)}catch(e){utag.DB(e)};break;case'308':try{c[308]|=(d['page.name'].toString().toLowerCase().indexOf('FLEXPRICER'.toLowerCase())>-1&&d['page.owd_mode']=='OWD')}catch(e){utag.DB(e)};break;case'309':try{c[309]|=(d['page.flow']=='FP')||(d['page.flow']=='SD')}catch(e){utag.DB(e)};break;case'310':try{c[310]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SELECT_FLIGHT'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())}catch(e){utag.DB(e)};break;case'311':try{c[311]|=(d['dom.url'].toString().toLowerCase().indexOf('/en_AU/offers/holidays/latest-deals/hong-kong-rugby-sevens-2019-packages.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'312':try{c[312]|=(d['dom.url'].toString().toLowerCase().indexOf('/en_SG/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'313':try{c[313]|=(d['dom.url'].toString().toLowerCase().indexOf('cx/en_GB/offers/holidays/latest-deals/2019-hong-kong-sevens-packages'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'314':try{c[314]|=(d['dom.url'].toString().toLowerCase().indexOf('/en_JP/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'315':try{c[315]|=(d['dom.url'].toString().toLowerCase().indexOf('/ja_JP/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'316':try{c[316]|=(d['dom.url'].toString().toLowerCase().indexOf('/en_ZA/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'320':try{c[320]|=(d['page.country'].toString().toLowerCase()=='ZA'.toLowerCase())}catch(e){utag.DB(e)};break;case'321':try{c[321]|=(d['page.country'].toString().toLowerCase()=='JP'.toLowerCase()&&d['page.language'].toString().toLowerCase()=='ja'.toLowerCase())}catch(e){utag.DB(e)};break;case'324':try{c[324]|=(/(US|AU|GB|JP|CA)$/.test(d['page.country']))}catch(e){utag.DB(e)};break;case'325':try{c[325]|=(d['dom.url'].toString().toLowerCase().indexOf('en_AE/offers/flight/2019-hong-kong-sevens-package.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_BH/offers/flight/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_VN/offers/flight/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_MY/offers/flight/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_IE/offers/flight/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_LK/offers/flight/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_PH/offers/flight/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_BE/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_NZ/offers/holidays/latest-deals/hong-kong-rugby-sevens-2019-package'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_TW/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_CN/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_CA/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_KR/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_TH/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('en_US/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('it_IT/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('nl_NL/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'327':try{c[327]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SELECT_FLIGHT'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())||(d['page.name'].toString().indexOf('INBOUND')>-1&&d['page.name'].toString().indexOf('RIBE')>-1&&d['page.stream'].toString().indexOf('REV')>-1)}catch(e){utag.DB(e)};break;case'328':try{c[328]|=(/^RIBE/.test(d['page.name'])&&d['page.name'].toString().indexOf('SUMMARY')>-1&&d['page.stream']=='REV')}catch(e){utag.DB(e)};break;case'329':try{c[329]|=(d['dom.url'].toString().toLowerCase().indexOf('/explore-destinations/port-launch/seattle.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'330':try{c[330]|=(d['dom.url'].toString().toLowerCase().indexOf('/offers/flight/vantage-pass.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'331':try{c[331]|=(d['application.name'].toString().toLowerCase()!='TRP'.toLowerCase())}catch(e){utag.DB(e)};break;case'333':try{c[333]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::SELECT PACKAGE')>-1)||(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::CONFIRMATION')>-1)||(d['dom.url'].toString().indexOf('/offers/holidays/latest-deals/hong-kong-rugby-sevens-2019-packages.html')>-1)}catch(e){utag.DB(e)};break;case'334':try{c[334]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::SELECT PACKAGE')>-1)||(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::CONFIRMATION')>-1)||(d['dom.url'].toString().indexOf('/offers/holidays/latest-deals/2019-hong-kong-sevens-packages.html')>-1)}catch(e){utag.DB(e)};break;case'335':try{c[335]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::SELECT PACKAGE')>-1)||(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::CONFIRMATION')>-1)||(d['dom.url'].toString().indexOf('/offers/flight/2019-hong-kong-sevens-packages.html')>-1)}catch(e){utag.DB(e)};break;case'337':try{c[337]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::EVENT DETAILS')>-1)}catch(e){utag.DB(e)};break;case'338':try{c[338]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::SELECT PACKAGE')>-1)}catch(e){utag.DB(e)};break;case'340':try{c[340]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::EVENT PACKAGE DETAILS')>-1)}catch(e){utag.DB(e)};break;case'341':try{c[341]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::REVIEW AND RESERVE')>-1)}catch(e){utag.DB(e)};break;case'342':try{c[342]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::PASSENGER DETAILS')>-1)}catch(e){utag.DB(e)};break;case'343':try{c[343]|=(d['page.page_id'].toString().indexOf('TRP::EVENT-PACKAGE::CONFIRMATION')>-1)}catch(e){utag.DB(e)};break;case'344':try{c[344]|=(d['dom.url'].toString().indexOf('/sc_CN/explore-destinations/port-launch/seattle.html')>-1)}catch(e){utag.DB(e)};break;case'350':try{c[350]|=(d['page.country'].toString().toLowerCase()=='GB'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='FR'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='DE'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='IL'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='IT'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='NL'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='ES'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='CH'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='DK'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='BE'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='IE'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='RU'.toLowerCase())}catch(e){utag.DB(e)};break;case'351':try{c[351]|=(d['page.country'].toString().toLowerCase()=='IN'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='NP'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='BH'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='BD'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='MV'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='ZA'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='LK'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='QA'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='PK'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='SA'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='AE'.toLowerCase())}catch(e){utag.DB(e)};break;case'352':try{c[352]|=(d['page.country'].toString().toLowerCase()=='AU'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='NZ'.toLowerCase())}catch(e){utag.DB(e)};break;case'353':try{c[353]|=(d['page.country'].toString().toLowerCase()=='US'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='CA'.toLowerCase())}catch(e){utag.DB(e)};break;case'354':try{c[354]|=(d['page.country'].toString().toLowerCase()=='SG'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='KH'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='ID'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='MY'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='MM'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='PH'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='TH'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='VN'.toLowerCase())}catch(e){utag.DB(e)};break;case'355':try{c[355]|=(d['page.country'].toString().toLowerCase()=='JP'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='KR'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='TW'.toLowerCase())}catch(e){utag.DB(e)};break;case'356':try{c[356]|=(d['dom.url'].toString().indexOf('/cx/en_US.html')>-1)}catch(e){utag.DB(e)};break;case'357':try{c[357]|=(d['dom.url'].toString().indexOf('/ja_JP/offers/holidays/latest-deals/hkdl-magic-in-the-air-holiday-package.html')>-1)}catch(e){utag.DB(e)};break;case'358':try{c[358]|=(d['dom.url'].toString().indexOf('/en_TH/offers/holidays/latest-deals/hkdl-magic-in-the-air-holiday-package.html')>-1)}catch(e){utag.DB(e)};break;case'359':try{c[359]|=(d['dom.url'].toString().indexOf('/th_TH/offers/flight/hkdl-magic-in-the-air-holiday-package.html')>-1)}catch(e){utag.DB(e)};break;case'360':try{c[360]|=(d['dom.url'].toString().indexOf('/ja_JP/offers/holidays/latest-deals/hkdl-magic-in-the-air-holiday-package.html')>-1)}catch(e){utag.DB(e)};break;case'362':try{c[362]|=(d['dom.url'].toString().toLowerCase().indexOf('/en_PH/offers/holidays/latest-deals/hkdl-magic-in-the-air-holiday-package.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'363':try{c[363]|=(d['dom.url'].toString().toLowerCase().indexOf('_HK/offers/flight/university-student-fares-summer19'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'364':try{c[364]|=(d['page.country'].toString().toLowerCase()=='US'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='CA'.toLowerCase())}catch(e){utag.DB(e)};break;case'366':try{c[366]|=(d['dom.url'].toString().indexOf('ja_JP/offers/discount-code/japan-to-australia-newzealand.html')>-1)}catch(e){utag.DB(e)};break;case'367':try{c[367]|=(d['dom.url'].toString().indexOf('ja_JP/offers/collection/europe-destinations')>-1)}catch(e){utag.DB(e)};break;case'368':try{c[368]|=(d['dom.url'].toString().indexOf('en_HK/offers/holidays-from-hong-kong')>-1)||(d['dom.url'].toString().indexOf('en_JP/latest-offers/packages')>-1)||(d['dom.url'].toString().indexOf('en_TW/offers/holidays-from-taipei')>-1)||(d['dom.url'].toString().indexOf('en_SG/offers/holidays-from-singapore')>-1)||(d['dom.url'].toString().indexOf('en_TH/offers/holidays-from-bangkok')>-1)||(d['dom.url'].toString().indexOf('en_US/offers/holidays-from-los-angeles')>-1)||(d['dom.url'].toString().indexOf('en_AU/offers/holidays-from-sydney')>-1)||(d['dom.url'].toString().indexOf('en_NZ/offers/holidays-from-auckland')>-1)||(d['dom.url'].toString().indexOf('en_CA/offers/holidays-from-vancouver')>-1)}catch(e){utag.DB(e)};break;case'369':try{c[369]|=(d['dom.url'].toString().toLowerCase().indexOf('_TW/offers/flight/ibe-flash-sales-campaign.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'370':try{c[370]|=(d['dom.url'].toString().toLowerCase().indexOf('_HK/offers/holidays/latest-deals/luxury_thailand.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'371':try{c[371]|=(d['dom.url'].toString().toLowerCase().indexOf('_HK/explore-destinations/port-launch/komatsu.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'372':try{c[372]|=(d['dom.url'].toString().indexOf('en_MY/offers/collection/matta.html')>-1)}catch(e){utag.DB(e)};break;case'373':try{c[373]|=(d['dom.url'].toString().toLowerCase().indexOf('/zh_HK/offers/holidays-from-hong-kong.html'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('/ja_JP/offers/holidays-from-japan.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'374':try{c[374]|=(d['dom.url'].toString().toLowerCase().indexOf('_HK/explore-destinations/port-launch/komatsu.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'375':try{c[375]|=(d['page.locale'].toString().toLowerCase()=='en_BH'.toLowerCase())||(d['page.locale'].toString().toLowerCase()=='en_BD'.toLowerCase())||(d['page.locale'].toString().toLowerCase()=='en_IN'.toLowerCase())||(d['page.locale'].toString().toLowerCase()=='en_MV'.toLowerCase())||(d['page.locale'].toString().toLowerCase()=='en_NP'.toLowerCase())||(d['page.locale'].toString().toLowerCase()=='en_ZA'.toLowerCase())||(d['page.locale'].toString().toLowerCase()=='en_LK'.toLowerCase())||(d['page.locale'].toString().toLowerCase()=='en_AE'.toLowerCase())}catch(e){utag.DB(e)};break;case'376':try{c[376]|=(d['dom.url'].toString().indexOf('ja_JP/offers/holidays/latest-deals/the-peninsula-90aniversary.html')>-1)}catch(e){utag.DB(e)};break;case'377':try{c[377]|=(d['dom.url'].toString().indexOf('ja_JP/offers/holidays/latest-deals/rosewood-open-special.html')>-1)}catch(e){utag.DB(e)};break;case'378':try{c[378]|=(d['dom.url'].toString().indexOf('ja_JP/offers/holidays/latest-deals/Intercontinental-hkg-19S-promo.html')>-1)}catch(e){utag.DB(e)};break;case'379':try{c[379]|=(d['dom.url'].toString().toLowerCase().indexOf('_HK/offers/collection/amazing-thailand-shopping-offer'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'380':try{c[380]|=(d['dom.url'].toString().toLowerCase().indexOf('_HK/offers/collection/japan-omakase.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'381':try{c[381]|=(d['dom.url'].toString().toLowerCase().indexOf('/about-us/contact-us.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'382':try{c[382]|=(d['dom.url'].toString().toLowerCase().indexOf('_TW/offers/flight/economy-class-fare-for-limited-time-offers.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'4':try{c[4]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SELECT_DATE'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())||(/^RIBE/.test(d['page.name'])&&d['page.name'].toString().indexOf('OUTBOUND')>-1&&d['page.stream']=='REV')}catch(e){utag.DB(e)};break;case'42':try{c[42]|=(d['page.country'].toString().toLowerCase()!='HK'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='HK'.toLowerCase()&&d['page.currency'].toString().toLowerCase()!='CNY'.toLowerCase())||(typeof d['page.currency']=='undefined')}catch(e){utag.DB(e)};break;case'43':try{c[43]|=(d['search.params.origin.city'].toString().toLowerCase()!='HKG'.toLowerCase())||(d['search.params.origin.city'].toString().toLowerCase()=='HKG'.toLowerCase()&&d['page.currency'].toString().toLowerCase()!='CNY'.toLowerCase())||(typeof d['page.currency']=='undefined')||(d['search.origin.city'].toString().toLowerCase()!='HKG'.toLowerCase())||(d['search.origin.city'].toString().toLowerCase()=='HKG'.toLowerCase()&&d['page.currency'].toString().toLowerCase()!='CNY'.toLowerCase())}catch(e){utag.DB(e)};break;case'45':try{c[45]|=(d['search.params.destination.city'].toString().toLowerCase()!='HKG'.toLowerCase())||(d['search.params.destination.city'].toString().toLowerCase()=='HKG'.toLowerCase()&&d['page.currency'].toString().toLowerCase()!='CNY'.toLowerCase())||(typeof d['page.currency']=='undefined')||(d['search.destination.city'].toString().toLowerCase()!='HKG'.toLowerCase())||(d['search.destination.city'].toString().toLowerCase()=='HKG'.toLowerCase()&&d['page.currency'].toString().toLowerCase()!='CNY'.toLowerCase())}catch(e){utag.DB(e)};break;case'48':try{c[48]|=(d['page.page_type'].toString().toLowerCase()=='homepage'.toLowerCase())}catch(e){utag.DB(e)};break;case'49':try{c[49]|=(d['dom.url'].toString().toLowerCase().indexOf('/destinations/things-to-do-in'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'5':try{c[5]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('PASSENGER'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())}catch(e){utag.DB(e)};break;case'50':try{c[50]|=(d['dom.url'].toString().toLowerCase().indexOf('/destinations/hotels-in'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'51':try{c[51]|=(/\/destinations\/.*-holiday-packages/.test(d['dom.url']))}catch(e){utag.DB(e)};break;case'52':try{c[52]|=(/\/offers-from-.*-to-.*\.html/.test(d['dom.url']))}catch(e){utag.DB(e)};break;case'53':try{c[53]|=(/\/offers-from-.*-to-all-destinations\.html/.test(d['dom.url']))}catch(e){utag.DB(e)};break;case'54':try{c[54]|=(d['dom.url'].toString().toLowerCase().indexOf('/offers.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'55':try{c[55]|=(d['dom.url'].toString().toLowerCase().indexOf('/account-registration.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'56':try{c[56]|=(d['dom.url'].toString().toLowerCase().indexOf('/travel-information/rewards-and-benefits/account-comparison.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'57':try{c[57]|=(d['dom.url'].toString().toLowerCase().indexOf('/latest-offers/subscribe-offers/newsletter-subscription.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'6':try{c[6]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('CONFIRMATION'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase()&&d['dom.url'].toString().toLowerCase().indexOf('ACTION=HOLD'.toLowerCase())<0&&d['page.page_id'].toString().toLowerCase().indexOf('REVIEW_AND_PAY'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'64':try{c[64]|=(d['page.language'].toString().toLowerCase()=='zh'.toLowerCase())}catch(e){utag.DB(e)};break;case'65':try{c[65]|=(d['dom.url'].toString().toLowerCase().indexOf('destinations/things-to-do-in-hong-kong.html'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'66':try{c[66]|=(d['page.country'].toString().toLowerCase()=='SG'.toLowerCase())}catch(e){utag.DB(e)};break;case'67':try{c[67]|=(d['page.country'].toString().toLowerCase()=='HK'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='US'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='SG'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='JP'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='GB'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='MY'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='ID'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='PH'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='AU'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='TW'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='CA'.toLowerCase())||(d['page.country'].toString().toLowerCase()=='NZ'.toLowerCase())}catch(e){utag.DB(e)};break;case'7':try{c[7]|=(d['page.country'].toString().toLowerCase()=='GB'.toLowerCase())}catch(e){utag.DB(e)};break;case'8':try{c[8]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SELECT_FLIGHT'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())||(/^RIBE/.test(d['page.name'])&&d['page.name'].toString().indexOf('SUMMARY')>-1&&d['page.stream']=='REV')||(d['page.name'].toString().indexOf('INBOUND')>-1&&d['page.name'].toString().indexOf('RIBE')>-1&&d['page.stream'].toString().indexOf('REV')>-1)}catch(e){utag.DB(e)};break;case'87':try{c[87]|=(d['page.country'].toString().toLowerCase()=='HK'.toLowerCase())}catch(e){utag.DB(e)};break;case'9':try{c[9]|=(/^RIBE/i.test(d['page.page_id'])&&d['page.page_id'].toString().toLowerCase().indexOf('SEAT_MAP'.toLowerCase())>-1&&d['page.stream'].toString().toLowerCase()=='REV'.toLowerCase())}catch(e){utag.DB(e)};break;case'91':try{c[91]|=(d['page.country'].toString().toLowerCase()=='MY'.toLowerCase())}catch(e){utag.DB(e)};break;case'95':try{c[95]|=(d['dom.url'].toString().toLowerCase().indexOf('/destinations/flights-to'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'97':try{c[97]|=(d['application.name'].toString().indexOf('TRP')>-1)}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[32]=='undefined'){utag.runonce.ext[32]=1;if(1){if(window.udos){if(Object.prototype.toString.call(window.udos)==='[object Array]'){for(var i=window.udos.length;i--;){var udo=window.udos.splice(0,1)[0];({"view":cxTealium.utag.view,"link":cxTealium.utag.link}[udo["ut.event"]])(udo);};};};}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.application=(function(){return{env:(document.domain=="book.cathaypacific.com")?"PROD":"DEV",name:"RIBE",version:staticFilesPath.split("/")[2]};})();}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&typeof b['page.page_id']=='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.page=(function(a,b,p){page_name_map={"CLUP":"SELECT_DATES","MCUP":"SELECT_DATES","CLUR":"SELECT_DATES","BKGS":"CHANGE_FLIGHTS","AVAC":"SELECT_FLIGHTS","AVAI":"SELECT_FLIGHTS","AVAR":"SELECT_FLIGHTS","PINS":"PASSENGER","PINR":"PASSENGER","PURR":"PASSENGER","PURC":"REVIEW_AND_PAY","CONF":"CONFIRMATION","COFR":"CONFIRMATION"};flow={"REVENUE":"REVENUE","ON_HOLD_CONFIRMATION":"REVENUE","GETAWAY_SURPRISE":"PROMO","SPECIAL_FARE":"PROMO","PAX_TYPE":"PROMO","GV_FARES":"PROMO","COTS":"PROMO","USLEVERAGE":"PROMO","SERVICING":"ATC"}[a.BOOKING_FLOW];stream=flow=="PROMO"?"REV":{"REVENUE":"REV","ON_HOLD_CONFIRMATION":"REV","SERVICING":"ATC"}[a.BOOKING_FLOW];page_code=pageCode;page_name=b["page.page_name"]?b["page.page_name"].split("-")[1].trim().replace(/ /g,"_"):page_name_map[page_code];currency=typeof(p)=="undefined"?"":Object.keys(p)[0];return{brand:"CX",page_id:["RIBE",flow,flow+"_"+a.TAG_FLOW_NAME,page_name].join("::"),page_name:page_name,page_category:["RIBE",flow,a.TAG_FLOW_NAME].join("/"),page_type:"RIBE",mobile_app_screen_view:false,language_uppercase:a.ENTRYLANGUAGE.toUpperCase(),language:a.ENTRYLANGUAGE.toLowerCase(),country:a.ENTRYCOUNTRY,locale:[a.ENTRYLANGUAGE,a.ENTRYCOUNTRY].join("_"),locale_uppercase:[a.ENTRYLANGUAGE,a.ENTRYCOUNTRY].join("_").toUpperCase(),stream:a.BOH_PAY_LATER=="true"?"BOH":stream,flow:flow=="PROMO"?"PROMO":a.TAG_FLOW_NAME_SHORT,currency:typeof(currency)=="undefined"?"":currency,page_code:page_code,};})(DDSContext,b,cxTealium.ut.get_pageBom("CXCurrency"));}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.page_name']=='RIBE - SEAT MAP')||(typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.page_name']=='RIBE - SERVICES')){try{ribeflow={"REVENUE":"REVENUE","ON_HOLD_CONFIRMATION":"REVENUE","GETAWAY_SURPRISE":"PROMO","SPECIAL_FARE":"PROMO","PAX_TYPE":"PROMO","GV_FARES":"PROMO","COTS":"PROMO","USLEVERAGE":"PROMO","SERVICING":"ATC"}[DDSContext.BOOKING_FLOW];b['page.name']=["RIBE",ribeflow,ribeflow+"_"+DDSContext.TAG_FLOW_NAME,b["page.page_name"].split("-")[1].trim().replace(/ /g,"_")].join("\\");window.cxDataLayer.page.name=b['page.name'];b['page.stream']=window.cxDataLayer.page.stream;b['page.language']=window.cxDataLayer.page.language;}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.funnel=(function(p){funnel_map={"REV":{"FP":{"SELECT_DATES":"1","SELECT_FLIGHTS":"2","PASSENGER":"3","SEAT_MAP":"4","SERVICES":"5","REVIEW_AND_PAY":"6","CONFIRMATION":"7"},"SD":{"SELECT_FLIGHTS":"1","PASSENGER":"2","SEAT_MAP":"3","SERVICES":"4","REVIEW_AND_PAY":"5","CONFIRMATION":"6"},"PROMO":{"SELECT_DATES":"1","SELECT_FLIGHTS":"2","PASSENGER":"3","SEAT_MAP":"4","SERVICES":"5","REVIEW_AND_PAY":"6","CONFIRMATION":"7"},"FP-M":{"SELECT_DATES":"1","SELECT_FLIGHTS":"2","PASSENGER":"3","SEAT_MAP":"4","SERVICES":"5","REVIEW_AND_PAY":"6","CONFIRMATION":"7"},"SD-M":{"SELECT_FLIGHTS":"1","PASSENGER":"2","SEAT_MAP":"3","SERVICES":"4","REVIEW_AND_PAY":"5","CONFIRMATION":"6"}}}
funnel_id="[RIBE]["+p.stream+"]"+"["+p.flow+"]";step_no=funnel_map[p.stream][p.flow][p.page_name];return{funnel_id:funnel_id,step_id:funnel_id+"[STEP-"+step_no+"] "+p.page_name,step_no:step_no}})(cxDataLayer.page);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&/CLUP|MCUP/.test(b['js_page.pageCode']))||(typeof b['js_page.DDSContext.SITE']!='undefined'&&/AVAI|AVAC/.test(b['js_page.pageCode']))){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.search=(function(a,ut,dict){var q=parserURI("http://c.c?"+a.ENTRY_REQUEST).query;var cabin_code=typeof(DDSContext.COMMERCIAL_FARE_FAMILY_1)=="undefined"?{"E":"Y","N":"W","B":"C","F":"F"}[a.CABIN]:ut.get_cabin_code_from_ff(a.COMMERCIAL_FARE_FAMILY_1);var cabin_fullname=ut.get_cabin_name_from_cabin_code(cabin_code);var o_city=dict[dict["A_"+a.B_LOCATION_1].parent];var d_city=a.TRIP_TYPE=="O"?dict[dict["A_"+a.E_LOCATION_1].parent]:typeof(dict["A_"+a.B_LOCATION_2])=="undefined"?dict["C_"+a.B_LOCATION_2]:dict[dict["A_"+a.B_LOCATION_2].parent];var d_airport=a.TRIP_TYPE=="O"?a.E_LOCATION_1:a.B_LOCATION_2;var o_cny=dict[o_city.parent];var d_cny=dict[d_city.parent];var dates=(function(d){var k=DDSContext.TAG_FLOW_NAME_SHORT.split("-")[0]=="FP"?"calendar":"upsell";return pageBom.modelObject.availabilities[k].bounds.map(function(s){return moment(s.searchDestination.originDate).format("YYYY-MM-DD")}).join("|");})(pageBom.modelObject.availabilities);var date_outbound=dates.split("|")[0];var date_inbound=dates.split("|").length>1?dates.split("|").pop():date_outbound;var r=a.TRIP_TYPE=="M"?o_city.code+"_"+d_city.code:ut.get_route(a.B_LOCATION_1,a.E_LOCATION_1,a.TRIP_TYPE);return{type:"TICKET",keyword:["TKT-REV",r,a.TRIP_TYPE,cabin_fullname].join("::"),params:{origin:{airport:a.B_LOCATION_1,city:o_city.code,city_name:o_city.name,country:o_cny.code,country_name:o_cny.name},destination:{airport:d_airport,city:d_city.code,city_name:d_city.name,country:d_cny.code,country_name:d_cny.name},date_outbound:date_outbound,date_outbound_L:moment(date_outbound).format("MM/DD/YYYY"),date_outbound_day_of_week:moment(date_outbound).format("ddd"),date_outbound_B:moment(date_outbound).format("YYYYMMDD"),date_inbound:date_inbound,date_inbound_L:moment(date_inbound).format("MM/DD/YYYY"),date_inbound_day_of_week:moment(date_inbound).format("ddd"),date_inbound_B:moment(date_inbound).format("YYYYMMDD"),days_advance:moment(date_outbound).diff(moment(),"days").toString(),cabin:cabin_code,cabin_fullname:cabin_fullname,trip_type:a.TRIP_TYPE,trip_duration:moment(date_inbound).diff(moment(date_outbound),"days").toString(),pax:{adult:a.nbAdult,child:a.nbChd,infant:a.nbInf,total:(parseInt(a.nbAdult)+parseInt(a.nbChd)+parseInt(a.nbInf)).toString(),combination:ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf)}}}})(DDSContext,cxTealium.ut,cxTealium.ut.get_pageBom("CXLocation"));}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSProfile.USER_ID']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.registration=(function(m){return{registration_id:m.USER_ID,membership_no:m.USER_ID,membership_type:m.USER_TYPE,salutation:(b['page.language']=='zh'||b['page.language']=='sc')?[translations["EMAI.text.Dear"],m.LAST_NAME,translations['PINS.listelem.form.Title.'+m.TITLE]].join(" "):[translations["EMAI.text.Dear"],translations['PINS.listelem.form.Title.'+m.TITLE],m.LAST_NAME].join(" "),email:m.CONTACT_POINT_EMAIL_1.toLowerCase(),last_name:m.LAST_NAME,title:translations['PINS.listelem.form.Title.'+m.TITLE],type:m.TIER_STATUS,gender:m.GENDER,asia_miles:m.MILES_NUMBER,promo_consent:(m.PROMOTION_CONSENT=="Y")?true:false}})(DDSProfile);}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[382]=='undefined'){utag.runonce.ext[382]=1;if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){if((typeof b['js_page.DDSContext.CURRENCY_CODE']!='undefined'&&b['js_page.DDSContext.BOOKING_FLOW']!='SERVICING'&&b['dom.url'].toString().toLowerCase().indexOf('ACTION=HOLD'.toLowerCase())<0&&b['js_page.DDSContext.BOH_PAY_LATER']!='true'.toLowerCase())||(b['js_page.pageCode']=='PINS'&&b['js_page.DDSContext.BOOKING_FLOW']!='SERVICING')||b['js_page.DDSContext.BOOKING_FLOW']=='ON_HOLD_CONFIRMATION'){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.products=window.cxDataLayer.products||[];(function(a,p,ut,dict){o_airport=a.FLIGHT_SECTORS.split(",")[0];d_airport=a.TRIP_TYPE=="O"?a.FLIGHT_SECTORS.split(",")[1]:a.FLIGHT_SECTORS.split("-")[1].split(",")[0];o_city=dict[dict["A_"+o_airport].parent];d_city=dict[dict["A_"+d_airport].parent];route=ut.get_route(o_city.code,d_city.code,a.TRIP_TYPE);tkts=p.pnrRecap.priceRecap.pricePerTravellerTypes;for(var prop in tkts){if(!tkts.hasOwnProperty(prop)){continue;}
t=tkts[prop];f=t.priceForOneTravellerOfThisType;s=a.DISCOUNT_CODE?f.fareInfo.amountWithoutTax.toString():f.totalPriceWithoutTax.cashAmount.amount.toString();cabins=ut.get_segmented_cabins_from_rbds(a.FLIGHT_CLASSES,",");cabin_fullname=ut.get_highest_cabin(cabins,true);ff_code=a.TAG_FLOW_NAME_SHORT.indexOf("SD")===0||a.TAG_FLOW_NAME_SHORT=="BOH-CONF"?"SCHEDULEDN":pageBom.modelObject.pnrRecap.airRecap.flightBounds[0].fareFamily;ff_name=a.TAG_FLOW_NAME_SHORT.indexOf("SD")===0||a.TAG_FLOW_NAME_SHORT=="BOH-CONF"?"SCHEDULEDN":ut.get_ff_name(ff_code);pax_type=ut.get_pax_type(prop)
cxDataLayer.products.push({type:"AIR",product_id:["TKT-REV",route,cabin_fullname,pax_type].join("::"),product_name:["TKT-REV",route,cabin_fullname].join("::"),product_category:"AIR_TICKET-REVENUE",product_category_slashified:["AIR_TICKET-REVENUE",a.TRIP_TYPE,pax_type,cabin_fullname,[cabin_fullname,ff_name].join("_")].join("/"),qty:t.quantity.toString(),currency:f.currency,price:s,tax:f.otherTaxes.amount.toString(),surcharge:f.fuelSurcharge.amount.toString(),subtotal:(t.quantity*s).toString(),ff_code:ff_code,ff_name:[cabin_fullname,ff_name].join("_"),pax_type:pax_type,discount_code:a.DISCOUNT_CODE?a.DISCOUNT_CODE:""})}})(DDSContext,pageBom.modelObject,cxTealium.ut,cxTealium.ut.get_pageBom("CXLocation"));};}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['js_page.DDSContext.INSURANCE_SELECTED'].toString().toLowerCase()=='true'.toLowerCase()&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.products=window.cxDataLayer.products||[];(function(a,ut,p){ins=typeof(p.insurance)=='undefined'?p.pnrRecap.insuranceProducts.insuranceProducts[0].priceByTraveller:p.insurance.insuranceProducts[0].priceByTraveller;var temp_products={"ADULT":{"qty":"0","price":"0","subtotal":"0"},"CHILD":{"qty":"0","price":"0","subtotal":"0"},"INFANT":{"qty":"0","price":"0","subtotal":"0"}};trip_type=a.TRIP_TYPE;route=ut.get_route(a.B_LOCATION_1,a.E_LOCATION_1,trip_type);segmented_cabins=ut.get_segmented_cabins_from_rbds(a.FLIGHT_CLASSES,",");cabin_fullname=ut.get_highest_cabin(segmented_cabins,true);for(var prop in ins){pax_type={"ADT":"ADULT","CHD":"CHILD","INF":"INFANT"}[prop.substring(2,5)];temp_products[pax_type].qty=parseInt(temp_products[pax_type].qty)+1;temp_products[pax_type].price=ins[prop].amount;temp_products[pax_type].subtotal=parseInt(temp_products[pax_type].subtotal)+ins[prop].amount;}
for(var i in temp_products){if(temp_products[i].qty!="0"){cxDataLayer.products.push({currency:a.CURRENCY_CODE,product_id:["INSURANCE",route,trip_type,cabin_fullname,i].join("::"),product_name:["INSURANCE",route,trip_type,cabin_fullname].join("::"),product_category:"NON-AIR_INSURANCE",product_category_slashified:["NON-AIR_INSURANCE",i,trip_type,cabin_fullname,route].join("/"),price:temp_products[i].price.toString(),qty:temp_products[i].qty.toString(),surcharge:"0",tax:"0",type:"NON-AIR",ff_code:"",ff_name:"",pax_type:i,subtotal:temp_products[i].subtotal.toString(),})}}})(DDSContext,cxTealium.ut,pageBom.modelObject);}}catch(e){utag.DB(e)}},function(a,b){try{if((parseFloat(b['js_page.pageBom.modelObject.pnrRecap.exlChargeable'])>parseFloat(0)&&b['js_page.DDSContext.OWD_MODE']!='TRUE')||(parseFloat(b['js_page.pageBom.modelObject.pnrRecap.exlFree'])>parseFloat(0)&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.products=window.cxDataLayer.products||[];(function(a,b,ut){var segmented_cabins=ut.get_segmented_cabins_from_rbds(a.FLIGHT_CLASSES,",");var cabin_code=segmented_cabins?ut.get_highest_cabin(segmented_cabins):ut.get_cabin_code_from_ff(a.COMMERCIAL_FARE_FAMILY_1);var cabin_fullname=ut.get_cabin_name_from_cabin_code(cabin_code);var trips_test=b.pnrRecap.exlSegList.split(",");var trips=trips_test.filter(function(item,pos){return trips_test.indexOf(item)==pos;});var services=b.pnrRecap.serviceSelection.selectedServicesPerServiceType["SIT-"].serviceSelectionInformation;for(var i=0;i<trips.length;i++){if(trips[i]!=""){var route=ut.get_route(a[["B_LOCATION",trips[i]].join("_")],a[["E_LOCATION",trips[i]].join("_")],"O");for(var j=0;j<services.length;j++){seat_char=services[j].selectedServiceProperties.SEAT_CHARACTERISTIC.propertyParametersList.parametersList.toString();if(services[j].selectionIndexes[0].indexOf("S"+trips[i])!=-1&&seat_char.indexOf("E")!=-1){price=services[j].price.amount.toString();cxDataLayer.products.push({type:"AIR-ANCILLARY",product_id:price==0?["EXL",route,cabin_fullname,"WAIVE"].join("::"):["EXL",route,cabin_fullname].join("::"),product_name:price==0?["EXL",route,"WAIVE"].join("::"):["EXL",route].join("::"),product_category:"AIR-ANCILLARY_EXL",product_category_slashified:price==0?["AIR-ANCILLARY_EXL","EXL-WAIVE",cabin_fullname,route].join("/"):["AIR-ANCILLARY_EXL","EXL",cabin_fullname,route].join("/"),qty:"1",currency:a.CURRENCY_CODE,price:price,pax_type:"ADULT",tax:"",surcharge:"",subtotal:price,ff_code:"",ff_name:""});};};};};})(DDSContext,pageBom.modelObject,cxTealium.ut);}}catch(e){utag.DB(e)}},function(a,b){try{if((parseFloat(b['js_page.pageBom.modelObject.pnrRecap.asrChargeable'])>parseFloat(0)&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.products=window.cxDataLayer.products||[];(function(a,b,ut){var segmented_cabins=ut.get_segmented_cabins_from_rbds(a.FLIGHT_CLASSES,",");var cabin_code=segmented_cabins?ut.get_highest_cabin(segmented_cabins):ut.get_cabin_code_from_ff(a.COMMERCIAL_FARE_FAMILY_1);var cabin_fullname=ut.get_cabin_name_from_cabin_code(cabin_code);var trips_test=b.pnrRecap.asrSegList.split(",");var trips=trips_test.filter(function(item,pos){return trips_test.indexOf(item)==pos;});var services=b.pnrRecap.serviceSelection.selectedServicesPerServiceType["SIT-"].serviceSelectionInformation;for(var i=0;i<trips.length;i++){if(trips[i]!=""){var route=ut.get_route(a[["B_LOCATION",trips[i]].join("_")],a[["E_LOCATION",trips[i]].join("_")],"O");for(var j=0;j<services.length;j++){seat_char=services[j].selectedServiceProperties.SEAT_CHARACTERISTIC.propertyParametersList.parametersList.toString();if(services[j].selectionIndexes[0].indexOf("S"+trips[i])!=-1&&seat_char.indexOf("E")==-1&&seat_char.indexOf("CH")!=-1){price=services[j].price.amount.toString();cxDataLayer.products.push({type:"AIR-ANCILLARY",product_id:["ASR",route,cabin_fullname].join("::"),product_name:["ASR",route].join("::"),product_category:"AIR-ANCILLARY_ASR",product_category_slashified:["AIR-ANCILLARY_ASR","ASR",cabin_fullname,route].join("/"),qty:"1",currency:a.CURRENCY_CODE,price:price,pax_type:"ADULT",tax:"",surcharge:"",subtotal:price,ff_code:"",ff_name:""});};};};};})(DDSContext,pageBom.modelObject,cxTealium.ut);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.CURRENCY_CODE']!='undefined'&&b['js_page.DDSContext.BOOKING_FLOW']!='SERVICING'&&b['dom.url'].toString().toLowerCase().indexOf('ACTION=HOLD'.toLowerCase())>-1&&b['js_page.DDSContext.OWD_MODE']!='TRUE')||(typeof b['js_page.DDSContext.CURRENCY_CODE']!='undefined'&&b['js_page.DDSContext.BOOKING_FLOW']!='SERVICING'&&b['js_page.DDSContext.BOH_PAY_LATER'].toString().toLowerCase()=='true'.toLowerCase()&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.products=window.cxDataLayer.products||[];(function(a,p,ut){tkts=p.pnrRecap.priceRecap.pricePerTravellerTypes;for(var prop in tkts){if(!tkts.hasOwnProperty(prop)){continue;}
t=tkts[prop];f=t.priceForOneTravellerOfThisType;route=ut.get_route(a.B_LOCATION_1,a.E_LOCATION_1,a.TRIP_TYPE);cabins=ut.get_segmented_cabins_from_rbds(a.FLIGHT_CLASSES,",");cabin_fullname=ut.get_highest_cabin(cabins,true);ff_code=a.TAG_FLOW_NAME_SHORT.indexOf("SD")===0?"SCHEDULEDN":pageBom.modelObject.pnrRecap.airRecap.flightBounds[0].fareFamily;ff_name=a.TAG_FLOW_NAME_SHORT.indexOf("SD")===0?"SCHEDULEDN":ut.get_ff_name(ff_code);pax_type=ut.get_pax_type(prop)
cxDataLayer.products.push({type:"AIR",product_id:["BOH::BOH_GUARANTEE",route,cabin_fullname,pax_type].join("::"),product_name:["BOH::BOH_GUARANTEE",route,cabin_fullname].join("::"),product_category:"AIR-BOH::BOH_GUARANTEE",product_category_slashified:["AIR_BOH","BOH-GUARANTEE-WAIVE",cabin_fullname,route,ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf)].join("/"),qty:t.quantity.toString(),currency:f.currency,price:"0",tax:"0",surcharge:"0",subtotal:"0",ff_code:ff_code,ff_name:[cabin_fullname,ff_name].join("_"),pax_type:pax_type})}})(DDSContext,pageBom.modelObject,cxTealium.ut);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.CURRENCY_CODE']!='undefined'&&b['js_page.DDSContext.BOOKING_FLOW']=='SERVICING'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')||(b['js_page.pageCode']=='PINS'&&b['js_page.DDSContext.BOOKING_FLOW']=='SERVICING'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.products=window.cxDataLayer.products||[];(function(a,p,ut,dict){o_airport=a.FLIGHT_SECTORS.split(",")[0];d_airport=a.TRIP_TYPE=="O"?a.FLIGHT_SECTORS.split(",")[1]:a.FLIGHT_SECTORS.split("-").pop().split(",")[0];o_city=dict[dict["A_"+o_airport].parent];d_city=dict[dict["A_"+d_airport].parent];tkts=p.pnrRecap.priceRecap.pricePerTravellerTypes;for(var prop in tkts){if(!tkts.hasOwnProperty(prop)){continue;}
t=tkts[prop];f=t.priceForOneTravellerOfThisType;route=ut.get_route(o_city.code,d_city.code,a.TRIP_TYPE);cabins=ut.get_segmented_cabins_from_rbds(a.FLIGHT_CLASSES,",");cabin_fullname=ut.get_highest_cabin(cabins,true);ff_code=a.TAG_FLOW_NAME_SHORT=="SD"?"SCHEDULEDN":pageBom.modelObject.pnrRecap.airRecap.flightBounds[0].fareFamily;ff_name=a.TAG_FLOW_NAME_SHORT=="SD"?cabin_fullname+"SCHEDULEDN":ut.get_ff_name(ff_code);pax_type=ut.get_pax_type(prop)
cxDataLayer.products.push({type:"AIR",product_id:["TKT-ATC",route,cabin_fullname,pax_type].join("::"),product_name:["TKT-ATC",route,cabin_fullname].join("::"),product_category:"AIR_TICKET-ATC",product_category_slashified:["AIR_TICKET-ATC",a.TRIP_TYPE,pax_type,cabin_fullname,[cabin_fullname,ff_name].join("_")].join("/"),qty:t.quantity.toString(),currency:a.CURRENCY_CODE,price:(f.rebookFee.totalAmount.cashAmount.amount+f.rebookBalance.amountWithoutTax.cashAmount.amount+f.refundBalance.amountWithoutTax.cashAmount.amount+f.rebookBalance.tax.amount).toString(),tax:f.otherTaxes.amount.toString(),surcharge:f.fuelSurcharge.amount.toString(),subtotal:(t.quantity*(f.rebookFee.totalAmount.cashAmount.amount+f.rebookBalance.amountWithoutTax.cashAmount.amount+f.refundBalance.amountWithoutTax.cashAmount.amount+f.rebookBalance.tax.amount)).toString(),ff_code:ff_code,ff_name:ff_name,pax_type:pax_type,change_fee:f.rebookFee.totalAmount.cashAmount.amount.toString(),fare_diff:f.rebookBalance.amountWithoutTax.cashAmount.amount.toString(),nra:f.refundBalance.amountWithoutTax.cashAmount.amount.toString(),tax_and_surcharge_diff:f.rebookBalance.tax.amount.toString()})}})(DDSContext,pageBom.modelObject,cxTealium.ut,cxTealium.ut.get_pageBom("CXLocation"));}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.FLIGHT_DATES']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.itinerary=(function(ut,a,dict,p){var inbound,outbound;var segmented_cabins=ut.get_segmented_cabins_from_rbds(a.FLIGHT_CLASSES,",");var cabin_code=segmented_cabins?ut.get_highest_cabin(segmented_cabins):cxTealium.ut.get_cabin_code_from_ff(DDSContext.COMMERCIAL_FARE_FAMILY_1);var segmented_durations=[];p.flightBounds.forEach(function(x){segmented_durations.push(x.duration/1000/60);});if(a.FLIGHT_DATES){o_dt=moment(a.FLIGHT_DATES.split(",")[0],"DDMMYYYYHHmm");i_dt=moment(a.FLIGHT_DATES.split(",").pop(),"DDMMYYYYHHmm");outbound={datetime:o_dt.format(),date:o_dt.format("YYYY-MM-DD"),date_L:o_dt.format("MM/DD/YYYY"),month:o_dt.format("MM"),year:o_dt.format("YYYY"),day_of_week:moment(o_dt).weekday(),datetime_utc_value:moment.utc(o_dt).valueOf()};inbound={datetime:a.TRIP_TYPE=="O"?"":i_dt.format(),date:a.TRIP_TYPE=="O"?"":i_dt.format("YYYY-MM-DD"),date_L:a.TRIP_TYPE=="O"?"":i_dt.format("MM/DD/YYYY"),month:a.TRIP_TYPE=="O"?"":i_dt.format("MM"),year:a.TRIP_TYPE=="O"?"":i_dt.format("YYYY"),day_of_week:moment(i_dt).weekday(),datetime_utc_value:moment.utc(i_dt).valueOf()}};o_airport=a.FLIGHT_SECTORS.split(",")[0];d_airport=a.TRIP_TYPE=="O"||a.TRIP_TYPE=="M"?a.FLIGHT_SECTORS.split("-")[0].slice(-3):a.FLIGHT_SECTORS.split("-")[1].split(",")[0];o_city=dict[dict["A_"+o_airport].parent];d_city=dict[dict["A_"+d_airport].parent];o_cny=dict[o_city.parent];d_cny=dict[d_city.parent];route=ut.get_route(o_city.code,d_city.code,a.TRIP_TYPE);return{cabin:cabin_code,cabin_fullname:ut.get_cabin_name_from_cabin_code(cabin_code),cabin_fullname_translated:ut.get_cabin_name_translation(cabin_code),origin:{airport:o_airport,city:o_city.code,city_name:o_city.name,country:o_cny.code,country_name:o_cny.name,},destination:{airport:d_airport,city:d_city.code,city_name:d_city.name,country:d_cny.code,country_name:d_cny.name},days_advance:moment(o_dt).diff(moment(),"days").toString(),travel_span:moment(i_dt).diff(moment(o_dt),"days").toString(),trip_duration:moment(i_dt).diff(moment(o_dt),"days").toString(),stay_duration:moment(i_dt).subtract(segmented_durations[segmented_durations.length-1],"minutes").diff(moment(o_dt.add(segmented_durations[0]),"minutes"),"days"),route:route,trip_type:a.TRIP_TYPE,outbound:outbound,inbound:inbound,segment_cabins:segmented_cabins,segment_count:a.FLIGHT_NUMBERS?a.FLIGHT_NUMBERS.split(",").length:undefined,segmented_carriers:a.FLIGHT_OPCARRIERS?a.FLIGHT_OPCARRIERS.replace(/,/g,"|"):undefined,segmented_rbds:a.FLIGHT_CLASSES?a.FLIGHT_CLASSES.replace(/,/g,"|"):undefined,segmented_flights:a.FLIGHT_NUMBERS?a.FLIGHT_NUMBERS.split(",").map(function(n,i){return a.FLIGHT_OPCARRIERS.split(",")[i]+n}).join("|"):undefined,segmented_durations:segmented_durations.join("|"),longest_segment:Math.max.apply(null,segmented_durations).toString(),pax:{adult:a.nbAdult,child:a.nbChd,infant:a.nbInf,total:parseInt(a.nbAdult)+parseInt(a.nbChd)+parseInt(a.nbInf),combination:ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf)}}})(cxTealium.ut,DDSContext,cxTealium.ut.get_pageBom("CXLocation"),pageBom.modelObject.pnrRecap.airRecap);}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['js_page.DDSContext.PROMO_CODE']!='undefined'){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.offer=(function(a){return{type:"TKT",promotion_type:a.BOOKING_FLOW,promotion_code:a.PROMO_CODE,fare_id:a.FARE_ID,flow:"PROMOTION",name:""};})(DDSContext);}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['js_page.DDSContext.DISCOUNT_CODE']!='undefined'){b['offer.type']='TKT';try{b['offer.discount_type']=((1-(pageBom.modelObject.pnrRecap.priceRecap.priceForAllTravellers[0].totalPriceWithoutTax.cashAmount.amount/pageBom.modelObject.pnrRecap.priceRecap.priceForAllTravellers[0].fareInfo.amountWithoutTax))*100).toFixed(0)+"%"}catch(e){};try{b['offer.discount_code']=DDSContext.DISCOUNT_CODE}catch(e){};try{b['offer.discount_amount']=pageBom.modelObject.pnrRecap?tealiumiq_currency.convert((pageBom.modelObject.pnrRecap.priceRecap.priceForAllTravellers[0].fareInfo.amountWithoutTax-pageBom.modelObject.pnrRecap.priceRecap.priceForAllTravellers[0].totalPriceWithoutTax.cashAmount.amount).toString(),DDSContext.CURRENCY_CODE,'HKD'):""}catch(e){};b['offer.flow']='PROMOTION';b['offer.name']='';try{b['transaction.subtotal_net']=tealiumiq_currency.convert((b['transaction.subtotal']).toString(),DDSContext.CURRENCY_CODE,'HKD')-b['offer.discount_amount']}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().toLowerCase().indexOf('ACTION=BOOK'.toLowerCase())>-1&&b['js_page.pageCode']=='CONF'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=cxDataLayer||{};cxDataLayer.booking=(function(ut,a,p){insurance=typeof(a.INSURANCE_PRICE)=='undefined'?0:parseFloat(a.INSURANCE_PRICE);exl=p.pnrRecap.exlChargeable>0?parseFloat(p.pnrRecap.serviceSelection.pricePerService["SIT-"].amount):0;subtotal=parseFloat(a.TICKET_AMOUNT)+insurance+exl;surcharge_and_tax=parseFloat(a.TAX_SURCHARGE);o_dt=moment(a.FLIGHT_DATES.split(",")[0],"DDMMYYYYHHmm");return{booking_id:[moment(p.pnrRecap.pnrInfo.endTransactDate,"x").format("YYYY-MM-DD"),a.MARKET,"CX","IBE","REV",a.recLocList,ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf)].join("::"),pnr:a.miniPNR,ticket_number:(p.pnrRecap.tickets)?p.pnrRecap.tickets.map(function(t){return t.ticketNumber}).join("|"):"N/A",supplier_ref:"",pax:{adult:a.nbAdult,child:a.nbChd,infant:a.nbInf,total:parseInt(a.nbAdult)+parseInt(a.nbChd)+parseInt(a.nbInf),combination:ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf)},days_advance:moment(o_dt).diff(moment(),"days").toString(),booked_from:"IBE",booked_at:moment().format(),status:"confirmed",type:"revenue-ticket",fxmp:"false",subtotal:subtotal.toString(),subtotal_with_currency:[currency,subtotal].join("_"),currency:currency,fxmp_currency:""}})(cxTealium.ut,DDSContext,pageBom.modelObject);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.miniPNR']!='undefined'&&b['dom.url'].toString().toLowerCase().indexOf('ACTION=HOLD'.toLowerCase())>-1&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.booking=(function(ut,a,p){return{booking_id:(a.BOH_ACTIVATED.toLowerCase()=="true")?[moment(p.pnrRecap.pnrInfo.endTransactDate,"x").format("YYYY-MM-DD"),a.MARKET,"CX","IBE","BOH",a.recLocList,ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf)].join("::"):"",pnr:a.miniPNR,pnr_super:"",supplier_ref:"",ticket:(p.pnrRecap.tickets)?p.pnrRecap.tickets.map(function(t){return t.ticketNumber}).join("|"):"N/A",pax:{adult:a.nbAdult,child:a.nbChd,infant:a.nbInf,total:parseInt(a.nbAdult)+parseInt(a.nbChd)+parseInt(a.nbInf),combination:ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf)},days_advance:"",booked_from:"IBE",status:"on-hold",type:"",fxmp:"false",subtotal:"0",subtotal_in_HKD:"0",subtotal_with_currency:[currency,"0"].join("_"),currency:currency,fxmp_currency:""}})(cxTealium.ut,DDSContext,pageBom.modelObject);}}catch(e){utag.DB(e)}},function(a,b){try{if((b['js_page.pageCode']=='COFR'&&b['js_page.DDSContext.BOOKING_FLOW']=='SERVICING'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=cxDataLayer||{};cxDataLayer.booking=(function(ut,a,p){subtotal=parseFloat(p.pnrRecap.priceRecap.priceForAllTravellers[0].rebookBalance.amountWithoutTax.cashAmount.amount)+parseFloat(p.pnrRecap.priceRecap.priceForAllTravellers[0].rebookFee.totalAmount.cashAmount.amount);return{booking_id:[moment(p.pnrRecap.pnrInfo.endTransactDate,"x").format("YYYY-MM-DD"),a.MARKET,"CX","IBE","ATC",a.recLocList,ut.get_pax_combination(a.nbAdt,a.nbChd,a.nbInf)].join("::"),pnr:a.miniPNR,ticket_number:(p.pnrRecap.tickets)?p.pnrRecap.tickets.map(function(t){return t.ticketNumber}).join("|"):"N/A",supplier_ref:"",pax:{adult:a.nbAdt,child:a.nbChd,infant:a.nbInf,total:parseInt(a.nbAdt)+parseInt(a.nbChd)+parseInt(a.nbInf),combination:ut.get_pax_combination(a.nbAdt,a.nbChd,a.nbInf)},days_advance:"",booked_from:"IBE",status:"confirmed",type:"revenue-ticket",fxmp:"false",subtotal:subtotal.toString(),subtotal_in_HKD:"",subtotal_with_currency:[currency,subtotal].join("_"),currency:currency,fxmp_currency:""}})(cxTealium.ut,DDSContext,pageBom.modelObject);}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().toLowerCase().indexOf('ACTION=BOOK'.toLowerCase())>-1&&b['js_page.pageCode']=='CONF'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=cxDataLayer||{};cxDataLayer.transaction=(function(ut,a,p){insurance=typeof(a.INSURANCE_PRICE)=='undefined'?0:parseFloat(a.INSURANCE_PRICE);exl=p.pnrRecap.exlChargeable>0?parseFloat(p.pnrRecap.serviceSelection.pricePerService["SIT-"].amount):0;subtotal=a.DISCOUNT_CODE?parseFloat(a.TICKET_AMOUNT)+parseFloat(p.pnrRecap.priceRecap.priceForAllTravellers[0].fareInfo.amountWithoutTax-p.pnrRecap.priceRecap.priceForAllTravellers[0].totalPriceWithoutTax.cashAmount.amount)+insurance+exl:parseFloat(a.TICKET_AMOUNT)+insurance+exl;surcharge=p.pnrRecap.priceRecap.priceForAllTravellers[0].fuelSurcharge.amount;tax=p.pnrRecap.priceRecap.priceForAllTravellers[0].otherTaxes.amount;surcharge_and_tax=parseFloat(a.TAX_SURCHARGE_VAL);pax_combination=ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf);return{transaction_id:[moment(p.pnrRecap.pnrInfo.endTransactDate,"x").format("YYYY-MM-DD"),a.MARKET,"CX","IBE","REV",a.recLocList,pax_combination].join("::"),currency:currency,subtotal:subtotal.toString(),subtotal_with_currency:[currency,subtotal].join("_"),surcharge_and_tax:surcharge_and_tax.toString(),surcharge_and_tax_with_currency:[currency,surcharge_and_tax].join("_"),surcharge:surcharge.toString(),surcharge_with_currency:[currency,surcharge].join("_"),tax:tax.toString(),tax_with_currency:[currency,tax].join("_"),total:(subtotal+surcharge_and_tax).toString(),total_with_currency:[currency,subtotal+surcharge_and_tax].join("_"),payment_ref:"",payment_method:a.CC_TYPE,payment_gateway:a.PREFERRED_PSP.toUpperCase(),payment_country:a.CC_COUNTRY}})(cxTealium.ut,DDSContext,pageBom.modelObject);}}catch(e){utag.DB(e)}},function(a,b){try{if((b['js_page.pageCode']=='CONF'&&b['dom.url'].toString().indexOf('ACTION=HOLD')>-1&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.transaction=(function(ut,a,p){subtotal="0";surcharge_and_tax="0";pax_combination=ut.get_pax_combination(a.nbAdult,a.nbChd,a.nbInf);return{transaction_id:(a.BOH_ACTIVATED.toLowerCase()=="true")?[moment(p.pnrRecap.pnrInfo.endTransactDate,"x").format("YYYY-MM-DD"),a.MARKET,"CX","IBE","BOH",a.recLocList,pax_combination].join("::"):"",currency:currency,subtotal:subtotal,subtotal_with_currency:[currency,subtotal].join("_"),surcharge_and_tax_with_currency:[currency,surcharge_and_tax].join("_"),surcharge:"0",surcharge_with_currency:[currency,"0"].join("_"),total:"0",total_with_currency:[currency,"0"].join("_"),payment_ref:"",payment_method:a.CC_TYPE,payment_gateway:a.PREFERRED_PSP.toUpperCase(),payment_country:a.CC_COUNTRY}})(cxTealium.ut,DDSContext,pageBom.modelObject);}}catch(e){utag.DB(e)}},function(a,b){try{if((b['js_page.pageCode']=='COFR'&&b['js_page.DDSContext.BOOKING_FLOW']=='SERVICING'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=cxDataLayer||{};cxDataLayer.transaction=(function(ut,a,p){subtotal=parseFloat(p.pnrRecap.priceRecap.priceForAllTravellers[0].rebookBalance.amountWithoutTax.cashAmount.amount)+parseFloat(p.pnrRecap.priceRecap.priceForAllTravellers[0].rebookFee.totalAmount.cashAmount.amount);surcharge_and_tax=parseFloat(p.pnrRecap.priceRecap.priceForAllTravellers[0].rebookBalance.tax.amount);pax_combination=ut.get_pax_combination(a.nbAdt,a.nbChd,a.nbInf);return{transaction_id:[moment(p.pnrRecap.pnrInfo.endTransactDate,"x").format("YYYY-MM-DD"),a.MARKET,"CX","IBE","ATC",a.recLocList,pax_combination].join("::"),currency:currency,subtotal:(subtotal+surcharge_and_tax).toString(),subtotal_with_currency:[currency,subtotal].join("_"),surcharge_and_tax:surcharge_and_tax.toString(),surcharge_and_tax_with_currency:[currency,surcharge_and_tax].join("_"),surcharge:"0",surcharge_with_currency:[currency,"0"].join("_"),total:(subtotal+surcharge_and_tax).toString(),total_with_currency:[currency,subtotal+surcharge_and_tax].join("_"),tax:surcharge_and_tax.toString(),tax_with_currency:[currency,surcharge_and_tax].join("_"),payment_ref:"",payment_method:a.CC_TYPE,payment_gateway:a.PREFERRED_PSP.toUpperCase(),payment_country:a.CC_COUNTRY}})(cxTealium.ut,DDSContext,pageBom.modelObject);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.TAG_UPSELL_INDICATOR']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.custom_data=(function(a,ut){var upsell_from={"ECO":"ECONOMY","PEY":"PEY","BUS":"BUSINESS","FIR":"FIRST"}[a.TAG_UPSELL_FROM.substring(2,5)];var upsell_to={"ECO":"ECONOMY","PEY":"PEY","BUS":"BUSINESS","FIR":"FIRST"}[a.TAG_UPSELL_TO.substring(2,5)];var upsell_indicator=a.TAG_UPSELL_FROM!=a.TAG_UPSELL_TO?'true':"false";return{ibe:{upsell_indicator:upsell_indicator,upsell_category:upsell_indicator=='true'?a.TAG_UPSELL_INDICATOR.replace(/ /g,"-"):"",upsell_item_from:upsell_indicator=='true'?[upsell_from,ut.get_ff_name(a.TAG_UPSELL_FROM)].join("-"):"",upsell_item_to:upsell_indicator=='true'?[upsell_to,ut.get_ff_name(a.TAG_UPSELL_TO)].join("-"):"",upsell_item:upsell_indicator=='true'?[[upsell_from,ut.get_ff_name(a.TAG_UPSELL_FROM)].join("-"),[upsell_to,ut.get_ff_name(a.TAG_UPSELL_TO)].join("-")].join("_"):"",upsell_currency:"",upsell_value_from:a.TAG_UPSELL_VAL_FROM,upsell_value_to:a.TAG_UPSELL_VAL_TO,upsell_value:(parseFloat(a.TAG_UPSELL_VAL_TO)-parseFloat(a.TAG_UPSELL_VAL_FROM)).toString(),indicator_holdable:a.BOH_ACTIVATED=="TRUE"?"true":"false"}};})(DDSContext,cxTealium.ut);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')){b['custom_data.ibe.office_id']=b['js_page.DDSContext.OFFICE_ID'];b['custom_data.ibe.site_code']=b['js_page.DDSContext.SITE'];b['custom_data.ibe.external_id']=b['js_page.DDSContext.EXTERNAL_ID']}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.domain'].toString().indexOf('book.')<0&&b['dom.url'].toString().toLowerCase().indexOf('utm_medium='.toLowerCase())>-1)){try{b['campaign.utm_campaign']=(b["qp.utm_campaign"]||b["qp.UTM_CAMPAIGN"])||"NA"}catch(e){};try{b['campaign.utm_content']=(b["qp.utm_content"]||b["qp.UTM_CONTENT"])||"NA"}catch(e){};try{b['campaign.utm_medium']=(b["qp.utm_medium"]||b["qp.UTM_MEDIUM"])||"NA"}catch(e){};try{b['campaign.utm_source']=(b["qp.utm_source"]||b["qp.UTM_SOURCE"])||"NA"}catch(e){};try{b['campaign.utm_term']=(b["qp.utm_term"]||b["qp.UTM_TERM"])||"NA"}catch(e){};try{b['campaign.utm_channel']=(b["qp.utm_channel"]||b["qp.UTM_CHANNEL"])||"NA"}catch(e){};try{b['campaign.utm']=[b["campaign.utm_channel"],b["campaign.utm_source"],b["campaign.utm_medium"],b["campaign.utm_content"],b["campaign.utm_campaign"]].join("::")}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.domain'].toString().indexOf('book.')>-1&&b['dom.referrer'].toString().toLowerCase().indexOf('utm_medium='.toLowerCase())>-1)){try{b['campaign.utm_campaign']=parserURI(b["dom.referrer"].toUpperCase()).query.UTM_CAMPAIGN||"NA"}catch(e){};try{b['campaign.utm_content']=parserURI(b["dom.referrer"].toUpperCase()).query.UTM_CONTENT||"NA"}catch(e){};try{b['campaign.utm_medium']=parserURI(b["dom.referrer"].toUpperCase()).query.UTM_MEDIUM||"NA"}catch(e){};try{b['campaign.utm_source']=parserURI(b["dom.referrer"].toUpperCase()).query.UTM_SOURCE||"NA"}catch(e){};try{b['campaign.utm_term']=parserURI(b["dom.referrer"].toUpperCase()).query.UTM_TERM||"NA"}catch(e){};try{b['campaign.utm_channel']=parserURI(b["dom.referrer"].toUpperCase()).query.UTM_CHANNEL||"NA"}catch(e){};try{b['campaign.utm']=[b["campaign.utm_channel"],b["campaign.utm_source"],b["campaign.utm_medium"],b["campaign.utm_content"],b["campaign.utm_campaign"]].join("::")}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.CURRENCY_CODE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')||(b['js_page.pageCode']=='PINS'&&b['js_page.DDSContext.OWD_MODE']!='TRUE')||b['dom.url'].toString().toLowerCase().indexOf('reservepackage.do'.toLowerCase())>-1||b['dom.url'].toString().toLowerCase().indexOf('passengerdetails.do'.toLowerCase())>-1||b['dom.url'].toString().toLowerCase().indexOf('confirmation.do'.toLowerCase())>-1||b['dom.url'].toString().toLowerCase().indexOf('shoppingCart.do'.toLowerCase())>-1||(/PINR|PURR|COFR/.test(b['js_page.pageCode'])&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.stream']=='ATC')){window.cxDataLayer=window.cxDataLayer||{};cxDataLayer.collection=window.cxDataLayer.collection||{};cxDataLayer.collection.products=window.cxDataLayer.collection.products||{};(function(p,ut){var products_map=["currency","ff_code","ff_name","pax_type","price","product_category","product_category_slashified","product_id","product_name","qty","subtotal","surcharge","tax","type","discount_code"];var collection_map=["currencies","ff_codes","ff_names","pax_types","prices","product_categories","product_categories_slashified","product_ids","product_names","qtys","subtotals","surcharges","taxes","types","discount_codes"];for(var i=0;i<products_map.length;i++){cxDataLayer.collection.products[collection_map[i]]=[];cxDataLayer.collection.products[collection_map[i]]=cxDataLayer.collection.products[collection_map[i]].concat(cxTealium.ut.map(p,products_map[i]));}})(cxDataLayer.products,cxTealium.ut);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['page.page_id']!='undefined'&&b['page.page_id']!=''&&b['page.page_id'].toString().indexOf('2FA_')>-1)){try{window.cxDataLayer=window.cxDataLayer||{};window.cxDataLayer.page=window.cxDataLayer.page||{};window.cxDataLayer.page.page_id=b['page.page_id'];window.cxDataLayer.page.name=b['page.page_id'];window.cxDataLayer.page.page_id_slashified=b['page.page_id_slashified'];}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().toLowerCase().indexOf('masterLoginbox'.toLowerCase())>-1&&typeof b['errors']!='undefined'&&b['dom.url'].toString().toLowerCase().indexOf('/cx/'.toLowerCase())>-1)){try{if(typeof(window.cxDataLayer)!=='undefined'){window.cxDataLayer.errors=b['errors'];}}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){udo=cxTealium.ut.flatten(cxDataLayer);for(key in udo){if(udo.hasOwnProperty(key)){b[key]=udo[key];}};}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['js_page.DDSContext.BOH_PAY_LATER_SELECTED'].toString().toLowerCase()=='true'.toLowerCase())){b['page.flow']='FP';b['page.stream']='BOH'}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE')){try{b['page.currency']=Object.keys(cxTealium.ut.get_pageBom("CXCurrency"))[0]}catch(e){};b['page.page_id']=b['page.name'];b['page.owd_mode']='OWD'}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.name'].toString().indexOf('OUTBOUND')>-1)||(typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.name'].toString().indexOf('INBOUND')>-1)||(typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.name'].toString().indexOf('SUMMARY')>-1)){b['itinerary.cabin']=b['search.params.cabin'];try{b['itinerary.cabin_fullname']=cxTealium.ut.get_cabin_name_from_cabin_code(b['search.params.cabin'])}catch(e){};b['itinerary.segmented_cabins']='';b['itinerary.segmented_rbds']='';b['search.params.origin.airport']=b['search.origin.airport'];b['search.params.origin.city']=b['search.origin.city'];b['search.params.origin.country']=b['search.origin.country'];b['search.params.destination.airport']=b['search.destination.airport'];b['search.params.destination.city']=b['search.destination.city'];b['search.params.destination.country']=b['search.destination.country']}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&/PASSENGER|SEAT_MAP|SERVICE|REVIEW|CONFIRMATION/.test(b['page.name']))){try{if(b['itinerary.cabin'].search("F")!=-1){b['itinerary.cabin']="F";b['itinerary.cabin_fullname']="FIRST";}else if(b['itinerary.cabin'].search("C")!=-1){b['itinerary.cabin']="C";b['itinerary.cabin_fullname']="BUSINESS";}else if(b['itinerary.cabin'].search("W")!=-1){b['itinerary.cabin']="W";b['itinerary.cabin_fullname']="PEY";}else{b['itinerary.cabin']="Y";b['itinerary.cabin_fullname']="ECONOMY";}}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&typeof b['transaction.tax']!='undefined'&&b['transaction.tax']!=''&&b['js_page.DDSContext.BOOKING_FLOW']!='SERVICING')){try{b['transaction.tax']=(function(b){if(b['transaction.surcharge_and_tax']>0){if(b['transaction.tax']==b['transaction.surcharge_and_tax']){return b['transaction.tax']-b['transaction.surcharge']}}})(b)}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.stream']=='BOH'&&b['page.name'].toString().indexOf('CONFIRMATION')>-1)){try{for(var i=0;i<b['collection.products.product_names'].length;i++){if(b['collection.products.product_ids'][i].indexOf("TKT-REV")>-1){b['collection.products.prices'][i]="";b['collection.products.product_categories_slashified'][i]="";b['collection.products.ff_names'][i]="";b['collection.products.product_ids'][i]="";b['collection.products.qtys'][i]="";b['collection.products.product_names'][i]="";}}}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.DDSContext.SITE']!='undefined'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['page.name'].toString().indexOf('CONFIRMATION')>-1&&b['page.stream']=='BOH')){try{b['transaction.transaction_id']=b['transaction.transaction_id'].replace("::REV::","::BOH::")}catch(e){};b['transaction.subtotal']='0';b['transaction.tax']='0';b['transaction.surcharge']='0'}}catch(e){utag.DB(e)}},function(a,b){try{if((b['application.name']=='RIBE'&&b['js_page.DDSContext.OWD_MODE'].toString().toLowerCase()=='TRUE'.toLowerCase()&&b['registration.type']=='GU')){b['registration.type']=''}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['transaction.transaction_id']!='undefined'&&b['dom.url'].toString().indexOf('ACTION=HOLD')<0)){try{b['booking.subtotal_in_hkd']=tealiumiq_currency.convert(b['booking.subtotal'].toString(),b['booking.currency'],'HKD')}catch(e){};try{b['transaction.subtotal_in_hkd']=tealiumiq_currency.convert(b['transaction.subtotal'].toString(),b['transaction.currency'],'HKD')}catch(e){}}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){d=b['js_page.window.performance.navigation.type'];if(typeof d=='undefined')return;c=[{'0':'direct'},{'1':'reload'},{'2':'bk/fw'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['page.navigation_type']=c[e][f];m=true};};if(m)break};if(!m)b['page.navigation_type']='unknown';},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[273]=='undefined'){utag.runonce.ext[273]=1;if((b['page.page_id'].toString().toLowerCase().indexOf('REVIEW_AND_PAY'.toLowerCase())>-1&&b['js_page.window.performance.navigation.type']=='0')||(b['page.page_code'].toString().toLowerCase().indexOf('passengerdetails.do'.toLowerCase())>-1&&b['application.name'].toString().toLowerCase()=='TRP'.toLowerCase()&&b['js_page.window.performance.navigation.type']=='0')||(b['page.stream']=='ATC'&&b['js_page.DDSContext.OWD_MODE']=='TRUE'&&b['js_page.pageCode']=='PURR')){b['vendor.ga.ecommerce_action']='checkout';b['vendor.ga.cm16']='1';}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{b['registration.ga_visitor_id']=b["cp._ga"].replace("GA1.2.","")}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[86]=='undefined'){utag.runonce.ext[86]=1;if((typeof b['cp.utm']=='undefined'&&b['cp.OPTOUTMULTI'].toString().toLowerCase().indexOf('c1:1'.toLowerCase())<0)){v=b["campaign.utm"]?b["campaign.utm"].toUpperCase():"DIRECT";Cookies.set('utm',v,{expires:30,domain:".cathaypacific.com"});}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['qp.optimizely_testing'].toString().indexOf('true')>-1){try{b['vendor.optimizely.testing_mode']=(function(){Cookies.set("optimizely_testing","true",{domain:'cathaypacific.com'});return true})();}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['js_page.DDSContext.FLIGHT_DATES']!='undefined'){try{b['custom_data.deeplink.trp_hotel']=(function($,d){var flights=JSON.parse(d.FLIF_MAP);var segments=d.FLIGHT_SECTORS.split("-");var segments_outbound=segments[0];var outbound_flight=segments[0].split(",");var outbound_flight_first=flights[outbound_flight[0]+'_'+outbound_flight[1]];var outbound_flight_last=flights[outbound_flight[outbound_flight.length-2]+'_'+outbound_flight[outbound_flight.length-1]];var destination=outbound_flight[outbound_flight.length-1];var segments_inbound;var inbound_flight;var inbound_flight_first;var inbound_flight_last;if(segments.length>1){segments_inbound=segments[1];inbound_flight=segments[1].split(",");inbound_flight_first=flights[inbound_flight[0]+'_'+inbound_flight[1]];inbound_flight_last=flights[inbound_flight[inbound_flight.length-2]+'_'+inbound_flight[inbound_flight.length-1]];segments_outbound_last=segments_outbound.substring(segments_outbound.length-7).replace(",","_");segments_inbound_first=segments_inbound.slice(0,7).replace(",","_");flight_outbound_last=flights[segments_outbound_last];flight_inbound_first=flights[segments_inbound_first];var tc=parseInt(d.nbChd)+parseInt(d.nbInf);var date_format="YYYY-MM-DD";var domain=(d.ENTRYCOUNTRY=="US")?"book.cathaypacificholidays.com":"holidays.cathaypacific.com";var fd_1=moment.utc(outbound_flight_first.modelObject.flightInfo.flightIdentifier.originDate).format(date_format);var fd_2=moment.utc(inbound_flight_last.modelObject.flightInfo.destinationDate).format(date_format);var dd_1=moment.utc(outbound_flight_last.modelObject.flightInfo.destinationDate).format(date_format);var dd_2=moment.utc(inbound_flight_first.modelObject.flightInfo.flightIdentifier.originDate).format(date_format);var param=$.param({CXchannel:"CXIBE",PNR:d.miniPNR||"000000",FD1:fd_1,FD2:fd_2,DESLT:"IATA",DES:destination,DD1:dd_1,DD2:dd_2,TA:d.nbAdult,TC:tc,language:d.ENTRYLANGUAGE,market:d.ENTRYCOUNTRY,PRO:"https",CST:"post",PT:"H"});return"https://"+domain+"/ibe/deeplink/ancillary.do?"+param;}return;})(jQuery,DDSContext);}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['js_page.DDSContext.FLIGHT_DATES']!='undefined'){try{b['custom_data.deeplink.trp_event']=(function($,d){var flights=JSON.parse(d.FLIF_MAP);var segments=d.FLIGHT_SECTORS.split("-");var segments_outbound=segments[0];var outbound_flight=segments[0].split(",");var outbound_flight_first=flights[outbound_flight[0]+'_'+outbound_flight[1]];var outbound_flight_last=flights[outbound_flight[outbound_flight.length-2]+'_'+outbound_flight[outbound_flight.length-1]];var origin=outbound_flight[0];var destination=outbound_flight[outbound_flight.length-1];var segments_inbound;var inbound_flight;var inbound_flight_first;var inbound_flight_last;if(segments.length>1){segments_inbound=segments[1];inbound_flight=segments[1].split(",");inbound_flight_first=flights[inbound_flight[0]+'_'+inbound_flight[1]];inbound_flight_last=flights[inbound_flight[inbound_flight.length-2]+'_'+inbound_flight[inbound_flight.length-1]];}var tc=parseInt(d.nbChd)+parseInt(d.nbInf);var date_format="YYYY-MM-DD";var domain=(d.ENTRYCOUNTRY=="US")?"book.cathaypacificholidays.com":"holidays.cathaypacific.com";var fd_1=moment.utc(outbound_flight_first.modelObject.flightInfo.flightIdentifier.originDate).format(date_format);var fd_2;if(typeof inbound_flight_last!=='undefined'){fd_2=moment.utc(inbound_flight_last.modelObject.flightInfo.destinationDate).format(date_format);}else{fd_2=fd_1;fd_2=moment.utc(outbound_flight_first.modelObject.flightInfo.flightIdentifier.originDate).add(30,'days').format(date_format);}var dd_1=moment.utc(outbound_flight_last.modelObject.flightInfo.destinationDate).format(date_format);var dd_2;if(typeof inbound_flight_first!=='undefined'){dd_2=moment.utc(inbound_flight_first.modelObject.flightInfo.flightIdentifier.originDate).format(date_format);}else{dd_2=moment.utc(outbound_flight_last.modelObject.flightInfo.destinationDate).add(30,'days').format(date_format);}var param=$.param({CXchannel:"CXIBE",PNR:d.miniPNR||"000000",FD1:fd_1,FD2:fd_2,ORILT:"IATA",DESLT:"IATA",ORI:origin,DES:destination,DD1:dd_1,DD2:dd_2,TA:d.nbAdult,TC:tc,language:d.ENTRYLANGUAGE,market:d.ENTRYCOUNTRY,PRO:"https",CST:"post",PT:"E"});return"https://"+domain+"/ibe/deeplink/ancillary.do?"+param;})(jQuery,DDSContext);}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().toLowerCase().indexOf('www.cathaypacific.com/cx'.toLowerCase())>-1&&typeof b['application.name']=='undefined')||(b['dom.domain'].toString().toLowerCase().indexOf('cdn.'.toLowerCase())>-1&&typeof b['application.name']=='undefined')||(b['dom.domain'].toString().toLowerCase().indexOf('www-sit2.ete.'.toLowerCase())>-1&&typeof b['application.name']=='undefined')||(b['dom.domain'].toString().toLowerCase().indexOf('www-ist.ete.'.toLowerCase())>-1&&typeof b['application.name']=='undefined')||(b['dom.domain'].toString().toLowerCase().indexOf('www-t0.ete.'.toLowerCase())>-1&&typeof b['application.name']=='undefined')||(b['dom.domain'].toString().toLowerCase().indexOf('www-t1.ete.'.toLowerCase())>-1&&typeof b['application.name']=='undefined')||(b['dom.domain'].toString().toLowerCase().indexOf('infosecurity'.toLowerCase())>-1&&typeof b['application.name']=='undefined')||(b['dom.domain'].toString().indexOf('www-t2.ncs1.ct1')>-1&&typeof b['application.name']=='undefined')){b['application.name']='AEM'}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().indexOf('/destinations/')>-1&&b['dom.url'].toString().indexOf('/cx/')>-1)){try{b['page.page_id']="/EXPLORE-DESTINATIONS/"+document.URL.split(".html")[0].split("/").pop().replace("-in-","/").replace("hotels","hotel-offers").replace(/(.*)-(holiday-packages)/,"PACKAGE-OFFERS/$1").toUpperCase()+"/"}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().toLowerCase().indexOf('/offers.html'.toLowerCase())>-1){b['page.page_id']='/OFFERS/'}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().toLowerCase().indexOf('offers/flight/'.toLowerCase())>-1){try{b['page.page_id']="/OFFERS/OFFER-DETAILS/FLIGHT-OFFERS"+b['page.page_id'].split("offers/flight").pop().toUpperCase()+"/"}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().toLowerCase().indexOf('/offers/online-bonus'.toLowerCase())>-1){try{b['page.page_id']="/OFFERS/OFFER-DETAIL/ONLINE-BONUS"+b['page.page_id'].split("online-bonus").pop().toUpperCase()+"/"}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().toLowerCase().indexOf('/offers/collection/'.toLowerCase())>-1){try{b['page.page_id']="/OFFERS/OFFER-COLLECTION/"+b['page.page_id'].split("/").pop().toUpperCase()+"/"}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().indexOf('/offers-from-')>-1&&b['dom.url'].toString().indexOf('-to-')>-1)){try{b['page.page_id']=document.URL.split(".html")[0].replace(/.*-from-(.*)-to-(.*)/,"/OFFERS/CITY-OFFER-PAGE/FROM-$1/TO-$2/").toUpperCase()}catch(e){}}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){d=b['dom.url'];if(typeof d=='undefined')return;c=[{'popupngo-university':'/OFFERS/OFFER-DETAIL/POPUPNGO/'},{'fanfares':'/OFFERS/FANFARES/'},{'/destinations.html':'/EXPLORE-DESTINATIONS/INSPIRE-ME/'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d.toString().indexOf(f)>-1){b['page.page_id']=c[e][f];m=true};};if(m)break};},function(a,b){try{if((b['dom.url'].toString().indexOf('/travel-infor')>-1&&b['dom.url'].toString().indexOf('-lounges')>-1&&b['dom.url'].toString().indexOf('hong-kong')>-1)){try{b['page.page_id']=(function(u){m=u.match(/the-(.*).html/);return("TRAVEL-INFORMATION/AIRPORT/LOUNGES/HKG/"+(m?"the-"+m[1]:"ALL-LOUNGES")+"/").toUpperCase();})(document.URL)}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().indexOf('/travel-infor')>-1&&b['dom.url'].toString().indexOf('-lounges')>-1&&b['dom.url'].toString().indexOf('hong-kong')<0)){try{b['page.page_id']=(function(u){m=u.match(/\-lounges\/(.*)-(.*)\/(.*).html/);return["/TRAVEL-INFORMATION/FLYING-WITH-US/ALL-LOUNGES",m[2],m[3]].join("/").toUpperCase()+"/";})(document.URL)}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['page.page_type'].toString().toLowerCase()=='homepage'.toLowerCase()){b['page.page_id']='/HOMEPAGE/'}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().toLowerCase().indexOf('/book-a-trip/timetable.html'.toLowerCase())>-1){b['page.page_id']='TIMETABLE::SEARCH RESULTS';b['application.name']='TIMETABLE'}}catch(e){utag.DB(e)}},function(a,b){try{if(/^\/cx\//i.test(b['page.page_id'])){try{b['page.page_id']=b['page.page_id'].slice(9).replace(".html","/").toUpperCase();}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().indexOf('search.html?keyword=')>-1){try{b['search.keyword']=b["qp.keyword"].replace(/\+/g," ").trim().toUpperCase();}catch(e){};b['search.type']='SITE_SEARCH'}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['custom_data.ibe.gfs_indicator']!='undefined'&&b['custom_data.ibe.gfs_indicator']!=''){try{(function(b,d){var quoted_currency=d['WDS_TOTAL_FARE'].slice(0,3);var quoted_price=d['WDS_TOTAL_FARE'].slice(3);var diff=Math.round((b['custom_data.ibe.gfs_actual_fare']-quoted_price)/b['custom_data.ibe.gfs_actual_fare']*100);var diffValue=Math.abs(diff);diff<0?t="QUOTED_FARE::":t="ACTUAL_FARE::";var eLabel;switch(true){case diffValue===0:eLabel=("LESS THAN 1%");break;case diffValue<=5:eLabel=(t+"1-5%");break;case(diffValue>5&&diffValue<=10):eLabel=(t+"6-10%");break;case(diffValue>10&&diffValue<=20):eLabel=(t+"11-20%");break;case(diffValue>20&&diffValue<=50):eLabel=(t+"21-50%");break;case(diffValue>50&&diffValue<=100):eLabel=(t+"51-100%");break;case diffValue>100:eLabel=(t+"OVER 100%");break;}
var event={event:{event_action:'GFS::'+b['custom_data.ibe.gfs_indicator'],event_category:'TRACKERS::RIBE',event_label:eLabel,event_value:Math.round(tealiumiq_currency.convert(Math.abs(b['custom_data.ibe.gfs_actual_fare']-quoted_price).toString(),quoted_currency,'HKD'))}};cxTealium.utag.link(event);})(b,DDSContext);}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['js_page.pageCode']=='GENR'){b['page.brand']='CX';try{b['page.page_id']=["RIBE",DDSContext.BOOKING_FLOW,"GENERAL_ERROR"].join("::")}catch(e){};b['page.page_name']='GENERAL_ERROR';try{b['page.page_category']=["RIBE",DDSContext.BOOKING_FLOW].join("::")}catch(e){};b['page.page_type']='RIBE';try{b['page.language']=DDSContext.LANGUAGE_FILE.split(/_/g)[1].toUpperCase()}catch(e){};try{b['page.page_code']=pageCode}catch(e){};try{b['error.error_code']="ERROR::RIBE::"+errorBom.modelObject.messages[0].code}catch(e){};b['error.error_category']='RIBE';try{b['error.error_description']="ERROR::RIBE::"+errorBom.modelObject.messages[0].subText}catch(e){};b['error.error_type']='application'}}catch(e){utag.DB(e)}},function(a,b){try{if(b['js_page.pageCode']=='GERR'){b['page.brand']='CX';try{b['page.page_id']=["RIBE",DDSContext.BOOKING_FLOW,DDSContext.BOOKING_FLOW+"_"+DDSContext.TAG_FLOW_NAME,"GENERAL_ERROR"].join("::")}catch(e){};b['page.page_name']='GENERAL_ERROR';try{b['page.page_category']=["RIBE",DDSContext.BOOKING_FLOW,DDSContext.TAG_FLOW_NAME].join("/")}catch(e){};b['page.page_type']='RIBE';try{b['page.language']=DDSContext.ENTRYLANGUAGE.toUpperCase()}catch(e){};try{b['page.page_code']=pageCode}catch(e){};try{b['error.error_code']="ERROR::RIBE::"+errorBom.modelObject.messages[0].code}catch(e){};b['error.error_category']='RIBE';try{b['error.error_description']="ERROR::RIBE::"+errorBom.modelObject.messages[0].text}catch(e){};b['error.error_type']='application';try{b['page.country']=DDSContext.COUNTRY}catch(e){};try{b['page.locale']=DDSContext.ENTRYLANGUAGE.toUpperCase()+"_"+DDSContext.COUNTRY}catch(e){};try{b['page.flow']=DDSContext.TAG_FLOW_NAME_SHORT}catch(e){};try{b['page.stream']={"REVENUE":"REV","ON_HOLD_CONFIRMATION":"REV","SERVICING":"ATC"}[DDSContext.BOOKING_FLOW]}catch(e){};try{b['itinerary.route']=cxTealium.ut.get_route(DDSContext.B_LOCATION_1,DDSContext.B_LOCATION_2,DDSContext.TRIP_TYPE)}catch(e){};try{b['itinerary.origin.airport']=DDSContext.B_LOCATION_1}catch(e){};try{b['itinerary.origin.city']=DDSContext.B_LOCATION_1}catch(e){};try{b['itinerary.destination.airport']=DDSContext.B_LOCATION_2}catch(e){};try{b['itinerary.destination.city']=DDSContext.B_LOCATION_2}catch(e){};try{b['itinerary.trip_type']=DDSContext.TRIP_TYPE}catch(e){};try{b['itinerary.pax.adult']=DDSContext.nbAdt}catch(e){};try{b['itinerary.pax.child']=DDSContext.nbChd}catch(e){};try{b['itinerary.pax.infant']=DDSContext.nbInf}catch(e){};try{b['itinerary.pax.total']=parseInt(DDSContext.nbAdt)+parseInt(DDSContext.nbChd)+parseInt(DDSContext.nbInf)}catch(e){};try{b['itinerary.pax.combination']=cxTealium.ut.get_pax_combination(DDSContext.nbAdt,DDSContext.nbChd,DDSContext.nbInt)}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.errorBom']!='undefined'&&/^book\./.test(b['dom.domain']))){b['page.page_code']='GERR';try{b['error.error_code']="ERROR::RIBE::"+errorBom.modelObject.messages[0].code}catch(e){};b['error.error_category']='RIBE';try{b['error.error_description']=errorBom.modelObject.messages[0].text}catch(e){};b['error.error_type']='application'}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['js_page.errors']!='undefined'&&/^book\./.test(b['dom.domain']))||(typeof b['js_page.errors']!='undefined'&&/^book-scan/.test(b['dom.domain']))){try{b['error.error_code']="ERROR::RIBE::"+JSON.parse(errors).modelObject.messages[0].code}catch(e){};b['error.error_category']='RIBE';try{b['error.error_description']=JSON.parse(errors).modelObject.messages[0].text}catch(e){};b['error.error_type']='application'}}catch(e){utag.DB(e)}},function(a,b){try{if(b['application.name']=='TRP'){try{b['page.language']=b['page.language'].toUpperCase()}catch(e){};try{b['page.locale']=b['page.locale'].toUpperCase()}catch(e){};try{b['page.page_code']=b['page.page_code'].toUpperCase()}catch(e){};try{b['page.currency']=b['products'][0]['currency']}catch(e){};try{b['page.page_id_slashified']=b['page.page_id_slashified']+"/"}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().indexOf('trp-payment-form')>-1){try{b['page.page_id_slashified']=["TRP",b["cp.TRPFlow"].split("|")[0],"PAYMENT"].join("/")}catch(e){};b['application.name']='TRP';try{b['itinerary.origin.city']=b["cp.TRPFlow"].split("|")[0]=="PACKAGE"?b["cp.TRPFlow"].split("|")[1]:""}catch(e){};try{b['itinerary.destination.city']=b["cp.TRPFlow"].split("|")[0]=="PACKAGE"?b["cp.TRPFlow"].split("|")[2]:""}catch(e){};try{b['page.page_id']=["TRP",b["cp.TRPFlow"].split("|")[0],"PAYMENT"].join("::")}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['application.name']=='TRP'&&b['page.page_id']=='TRP::PACKAGE::SELECT PACKAGE'&&b['application.env'].toString().toLowerCase()=='DEV'.toLowerCase())){try{b['custom_data.deeplink.trp_package']=(function($,s,p){var domain=(p.country=="US")?"book.cathaypacificholidays.com":"holidays.cathaypacific.com";var room_adult=[0,0,0,0,0,0];var room_child=[0,0,0,0,0,0];var temp_adult=s.pax.adult;var temp_child=s.pax.child;for(var i=0;i<s.params.room;i++){room_adult[i]=Math.ceil(temp_adult/(s.params.room-i));room_child[i]=Math.ceil(temp_child/(s.params.room-i));temp_adult=temp_adult-room_adult[i];temp_child=temp_child-room_child[i];};var room_child_age=(function(){var child_age=s.pax.child_age.split("|");var child_no=0;var temp_str="";for(i=0;room_child[i]!=0;i++){for(j=1;j<=room_child[i];j++){temp_str=temp_str+'&AC'+(i+1)+j+'='+child_age[child_no];child_no++;};};return temp_str;})();var param=$.param({DES:s.destination.oj_id,DD1:s.params.date_outbound,DD2:s.params.date_inbound,TA:s.pax.adult,TC:s.pax.child,TI:s.pax.infant,language:p.language,market:p.country,PRO:"https",PACK:"T",NUMHD:"1",ORI:s.origin.oj_id,NOR:s.params.room,NA1:room_adult[0],NA2:room_adult[1],NA3:room_adult[2],NA4:room_adult[3],NA5:room_adult[4],NA6:room_adult[5],NC1:room_child[0],NC2:room_child[1],NC3:room_child[2],NC4:room_child[3],NC5:room_child[4],NC6:room_child[5],SC:s.params.cabin,PT:"H"});return"https://"+domain+"/ibe/deeplink/ancillary.do?"+param+room_child_age+"&PT=F";})(jQuery,cxDataLayer.search,cxDataLayer.page)}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().toLowerCase().indexOf('error.do'.toLowerCase())>-1||typeof b['Error.error_category']!='undefined'){try{b['error.error_category']=b['Error.error_category']}catch(e){};try{b['error.error_code']=b['Error.error_code']}catch(e){};try{b['error.error_description']=b['Error.error_description']}catch(e){};b['application.name']='TRP'}}catch(e){utag.DB(e)}},function(a,b){try{if((b['page.page_code'].toString().toLowerCase()=='CONFIRMATION.DO'.toLowerCase()&&b['application.name'].toString().toLowerCase()=='TRP'.toLowerCase()&&b['js_page.window.performance.navigation.type']=='0')){try{b['transaction.transaction_id']=b['booking.booking_id'].replace('TRP',b['page.flow'])}catch(e){};b['event.event_category']='[TRP]BOOKING-EVENTS';try{b['event.event_action']='[TRP]['+b['page.flow']+']BOOKING-CONFIRMATION'}catch(e){};try{b['event.event_label']=typeof(b['booking.destination'])=='undefined'?b['itinerary.route']:b['booking.destination']}catch(e){};try{b['event.event_value']=parseInt(tealiumiq_currency.convert(b["transaction.subtotal"],b["transaction.currency"],"HKD"))}catch(e){};try{b['custom_data.last_booking']=Cookies.set("last_booking",["TRP",cxDataLayer.booking.pnr_super].join(":"));}catch(e){};try{b['transaction.transaction_id']=b['transaction.transaction_id'].replace('CX','CHL')}catch(e){};b['booking.subtotal_with_currency']=b['transaction.subtotal_with_currency'];b['booking.booking_id']=b['transaction.transaction_id'];b['booking.subtotal_in_hkd']=b['transaction.subtotal_in_hkd'];b['page.currency']=b['transaction.currency']}}catch(e){utag.DB(e)}},function(a,b,c,d){b._ccity=(typeof b['']!='undefined')?b['']:'';b._ccountry=(typeof b['']!='undefined')?b['']:'';b._ccurrency=(typeof b['page.currency']!='undefined')?b['page.currency']:'';b._ccustid=(typeof b['']!='undefined')?b['']:'';b._corder=(typeof b['']!='undefined')?b['']:'';b._cpromo=(typeof b['']!='undefined')?b['']:'';b._cship=(typeof b['']!='undefined')?b['']:'';b._cstate=(typeof b['']!='undefined')?b['']:'';b._cstore=(typeof b['']!='undefined')?b['']:'web';b._csubtotal=(typeof b['']!='undefined')?b['']:'';b._ctax=(typeof b['']!='undefined')?b['']:'';b._ctotal=(typeof b['']!='undefined')?b['']:'';b._ctype=(typeof b['']!='undefined')?b['']:'';b._czip=(typeof b['']!='undefined')?b['']:'';b._cprod=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cprodname=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cbrand=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._ccat=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._ccat2=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cquan=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cprice=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._csku=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cpdisc=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];if(b._cprod.length==0){b._cprod=b._csku.slice()};if(b._cprodname.length==0){b._cprodname=b._csku.slice()};function tf(a){if(a==''||isNaN(parseFloat(a))){return a}else{return(parseFloat(a)).toFixed(2)}};b._ctotal=tf(b._ctotal);b._csubtotal=tf(b._csubtotal);b._ctax=tf(b._ctax);b._cship=tf(b._cship);for(c=0;c<b._cprice.length;c++){b._cprice[c]=tf(b._cprice[c])};for(c=0;c<b._cpdisc.length;c++){b._cpdisc[c]=tf(b._cpdisc[c])};},function(a,b){try{if(b['page.page_id'].toString().toLowerCase().indexOf('Passenger'.toLowerCase())>-1||b['page.page_id'].toString().toLowerCase().indexOf('Confirmation'.toLowerCase())>-1){(function(a,c,o){var transit_time=0;var transits=0;if((a.length>4&&o.TRIP_TYPE=="R")||(a.length>2&&o.TRIP_TYPE=="O")){for(var i=0;i<a.length;i++){if(a[i]=='HKG'&&a[i+1]=='HKG'){if(transit_time<Math.round(moment(moment(c[i+1],"DDMMYYYYhhmm")).diff(moment(c[i],"DDMMYYYYhhmm"))/(1000*60*60))){transit_time=Math.round(moment(moment(c[i+1],"DDMMYYYYhhmm")).diff(moment(c[i],"DDMMYYYYhhmm"))/(1000*60*60));}
transits++;b['custom_data.indicator.transit_country']='HKG';b['custom_data.indicator.transit_time']=transit_time;b['custom_data.indicator.transits']=transits;}}}else{b['custom_data.indicator.transit_country']='';b['custom_data.indicator.transit_time']=0;b['custom_data.indicator.transits']=0;}}(DDSContext.FLIGHT_SECTORS.split(/,|-/),DDSContext.FLIGHT_DATES.split(","),DDSContext));}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[186]=='undefined'){utag.runonce.ext[186]=1;if(b['dom.url'].toString().indexOf('/account-activation.html')>-1){var cb=function(j){msg=JSON.parse(j.responseText).errorMessages[0];if(msg.indexOf("ERR_")!=-1){code=msg.match(/(.*)\((.*)\)/)[2];cxTealium.utag.link({error:{error_code:"ERROR::RU::"+code,error_category:"ERROR::RU",error_description:msg}});}};cxTealium.ut.catch_ajax("errormessage",cb);}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().toLowerCase().indexOf('olci'.toLowerCase())>-1&&typeof b['errors']!='undefined')||b['application.name'].toString().toLowerCase().indexOf('AEM'.toLowerCase())>-1||typeof b['errors']!='undefined'){b['ga_events_array']=[];b['errors'].forEach(function(t){b['ga_events_array'].push({eventAction:t.error_code,eventCategory:t.error_category,eventLabel:t.error_description});});}}catch(e){utag.DB(e)}},function(a,b){try{if(b['page.page_id'].toString().indexOf('ERROR::SYSTEM')>-1){(function(p){var a=(function(u){var m={"TIME-TABLE":"/timetable.h","MPO":"/frequent-flyers","MMB":"/manage-booking","OLCI":"olci","RIBE":"CathayPacificV3","IBE-REDEMPTION":"CathayPacificAward","TRP":"holidays.ca"};for(var app in m){if(u.toLowerCase().indexOf(m[app].toLowerCase())!=-1){var a=app;break;}};return a||"AEM";})(document.URL);var d={"400":"BAD_REQUEST","401":"UNAUTHORIZED","403":"FORBIDDEN","404":"NOT_FOUND","500":"INTERNAL_SERVER_ERROR","502":"BAD_GATEWAY","503":"SERVICE_UNAVAILABLE","522":"CONNECTION_TIME_OUT"};var n=p.split("::").pop().replace("/","");var c="HTTP-STATUS-"+n;b["error.error_code"]=["ERROR",a,c].join("::");b["error.error_category"]="ERROR::"+a;b["error.error_description"]=n+"_"+(d[n]||"UNKNOWN");b["page.page_id"]=["ERROR",a,c].join("::");b["page.page_id_slashified"]=b["page.page_id"].replace(/::/g,"/");b["page.page_code"]=c;})(b["page.page_id"]);}}catch(e){utag.DB(e)}},function(a,b){try{if((b['application.name'].toString().toLowerCase()=='AEM'.toLowerCase()&&b['dom.url'].toString().toLowerCase().indexOf('ERRORCODE'.toLowerCase())>-1)){try{b['error.error_code']="ERROR::AEM::"+parserURI(decodeURIComponent(utag.data['dom.url'])).query['ERRORCODE[1]']}catch(e){};try{b['error.error_description']=parserURI(decodeURIComponent(utag.data['dom.url'])).query['ERRORMSG[1]'].replace(/\+/g," ")}catch(e){};b['error.error_category']='ERROR::AEM'}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.url'].toString().indexOf('NoResultsAvailable=true')>-1){b['error.error_code']='ERROR::TRP::NO_RESULTS';b['error.error_category']='ERROR::TRP';b['error.error_description']='No Results'}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[162]=='undefined'){utag.runonce.ext[162]=1;if((b['dom.domain'].toString().indexOf('www')>-1&&typeof b['qp.status']!='undefined'&&b['qp.status']!='')){var c=utag.data["qp.status"];var ct="ERROR::MLC";b["event.event_action"]=b["error.error_code"]=ct+"::"+c;b["event.event_category"]=b["error.error_category"]=ct;b["event.event_label"]=b["error.error_description"]={"1101":"mlc_cookie_missing","1002":"no_password","2003":"incorrect_password","2004":"incorrect_username","2009":"account_locked"}[c];}}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['qp.cxsource']!='undefined'){try{b['qp.cxsource']=b["qp.cxsource"].toUpperCase()}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b['vendor_google_gtagconversion']='conversion'}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{b['tealium_random']=(function(m){var m=m||9;s='',r='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';for(var i=0;i<m;i++){s+=r.charAt(Math.floor(Math.random()*r.length));}return s;})(16);}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['application.name']=='MMB'&&b['application.version'].toString().toLowerCase()=='R4'.toLowerCase())){b['vendor.ga.ecommerce_action']=b['page.page_action'];try{b['page.currency']=b["products"][0].currency}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['application.name']=='MMB'&&b['page.name'].toString().indexOf('CONFIRMATION')>-1)){try{b['page.currency']=b['collection.products.currencies'][0]}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.url'].toString().indexOf('?')>-1&&b['application.name'].toString().indexOf('OLCI')>-1)||(b['dom.url'].toString().indexOf('?')>-1&&b['application.name'].toString().indexOf('MMB')>-1)){try{(function(){var identifier=window.location.hash.split("?")[1].split("&")[0].split("=");b["qp."+identifier[0]]=identifier[1];})()}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if((/SELECT_FLIGHTS|SEAT_MAP|SERVICES/.test(b['page.page_id'])&&b['cp.OPTOUTMULTI'].toString().indexOf('c1:1')<0)){try{if(typeof(Krux)!=="undefined"){Krux('ns:cathaypacific','track:all',{'page_name':b['page.page_id']});}}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['application.name']=='TRP'&&/reviewPackage|reservePackage||confirmation|passengerDetails|shoppingCart/.test(b['dom.url']))){try{b['stay.hotels.hotel_name']=b['stay.hotels'][0]['hotel_name']}catch(e){};try{b['stay.hotels.hotel_id']=b['stay.hotels'][0]['hotel_id']}catch(e){};try{b['stay.hotels.hotel_brand']=b['stay.hotels'][0]['hotel_brand']}catch(e){};try{b['stay.hotels.rooms']=b['stay.hotels'][0]['rooms']}catch(e){};try{b['stay.hotels.city']=b['stay.hotels'][0]['city']}catch(e){};try{b['stay.hotels.country']=b['stay.hotels'][0]['country']}catch(e){};try{b['stay.hotels.room_type']=b['stay.hotels'][0]['room_type']}catch(e){};try{b['stay.hotels.bed_type']=b['stay.hotels'][0]['bed_type']}catch(e){};try{b['stay.hotels.extras']=b['stay.hotels'][0]['extras']}catch(e){};try{b['stay.hotels.refundable']=b['stay.hotels'][0]['refundable']}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((/^(?!(BE|DE|DK|ES|FR|GB|IE|IT|NL|CH))/.test(b['page.country'])&&b['page.page_id'].toString().toLowerCase()!='config/external/ribe-frame'.toLowerCase()&&b['cp.OPTOUTMULTI'].toString().indexOf('c1:1')<0)){try{if(typeof(Krux)!=="undefined"){Krux('ns:cathaypacific','consent:set',{dc:true,al:true,tg:true,cd:true,sh:true,re:true},null);}}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if((/BE|DE|DK|ES|FR|GB|IE|IT|NL|CH/.test(b['page.country'])&&b['page.page_id'].toString().toLowerCase()!='config/external/ribe-frame'.toLowerCase()&&b['cp.OPTOUTMULTI'].toString().indexOf('c1:1')<0)){try{if(typeof(Krux)!=="undefined"){Krux('ns:cathaypacific','consent:set',{dc:true,al:true,tg:true,cd:true,sh:false,re:false},null);}}
catch(err){console.log(err);}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.domain'].toString().toLowerCase().indexOf('infosecurity'.toLowerCase())>-1){b['tealium_environment']='prod'}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[438]=='undefined'){utag.runonce.ext[438]=1;if(b['application.name']=='AEM'){try{if(!("IntersectionObserver"in window)){console.log("IntersectionObserver not available");!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var r=i.element,s=h(r),c=this._rootContainsTarget(r),a=i.entry,u=e&&c&&this._computeTargetAndRootIntersection(r,n),l=i.entry=new o({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n,intersectionRect:u});a?e&&c?this._hasCrossedThreshold(a,l)&&this._queuedEntries.push(l):a&&a.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){for(var i,r,s,c,u,l,p,d,g=h(n),f=a(n),_=!1;!_;){var v=null,m=1==f.nodeType?t.getComputedStyle(f):{};if("none"==m.display)return;if(f==this.root||f==e?(_=!0,v=o):f!=e.body&&f!=e.documentElement&&"visible"!=m.overflow&&(v=h(f)),v&&(i=v,r=g,s=void 0,c=void 0,u=void 0,l=void 0,p=void 0,d=void 0,s=Math.max(i.top,r.top),c=Math.min(i.bottom,r.bottom),u=Math.max(i.left,r.left),l=Math.min(i.right,r.right),d=c-s,!(g=(p=l-u)>=0&&d>=0&&{top:s,bottom:c,left:u,right:l,width:p,height:d})))break;f=a(f)}return g}},i.prototype._getRootRect=function(){var t;if(this.root)t=h(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},i.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=o}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function h(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=a(n)}return!1}function a(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}(window,document);}
(function(win){'use strict';var listeners=[],doc=window.document,MutationObserver=window.MutationObserver||window.WebKitMutationObserver,observer;function ready(selector,fn){listeners.push({selector:selector,fn:fn});if(!observer){observer=new MutationObserver(check);observer.observe(doc.documentElement,{childList:true,subtree:true});}
check();}
function check(){for(var i=0,len=listeners.length,listener,elements;i<len;i++){listener=listeners[i];elements=doc.querySelectorAll(listener.selector);for(var j=0,jLen=elements.length,element;j<jLen;j++){element=elements[j];if(!element.ready){element.ready=true;listener.fn.call(element,element);}}}}
window.ready=ready;})(this);ready('main a[data-cxlinktag-placement]:not([data-cxlinktag-placement="FOOTER"]):not([data-cxlinktag-placement="CONTENT"])',function(element){window.test_timer=0;const config={root:null,rootMargin:'0px',threshold:0.8};const inter_observer=new IntersectionObserver(function(entries){entries.forEach(function(entry){if(entry.isIntersecting===true){if("udo_impression"in window){}else{window.udo_impression=(function(){return{"vendor.ga.non_interaction":true,"event.event_action":"EC:PROMO_IMPRESSION","event.event_category":"EC","event.event_label":"","collection.banner.ids":[],"collection.banner.names":[],"collection.banner.positions":[],"collection.banner.creatives":[]}})();}
var placement;if(entry.target.dataset.cxlinktagPlacement.match(/(HOMEPAGE::HERO|PRIMARY)/)){placement=entry.target.dataset.cxlinktagPlacement;}else{placement=entry.target.dataset.cxlinktagPlacement+"::"+entry.target.dataset.cxlinktagElementPosition;}
window.udo_impression['collection.banner.ids'].push(entry.target.dataset.cxlinktagPlacement+"::"+b["page.locale"].toUpperCase());window.udo_impression['collection.banner.names'].push(entry.target.dataset.cxlinktagName.toUpperCase());window.udo_impression['collection.banner.positions'].push(placement);window.udo_impression['collection.banner.creatives'].push("");if(typeof(window.udo_impression['collection.banner.ids'])!=='undefined'&&window.udo_impression['collection.banner.ids'].length==1&&window.test_timer==0){window.test_timer=1;setTimeout(function(){if(typeof(window.udo_impression['collection.banner.ids'])!=='undefined'&&window.udo_impression['collection.banner.ids'].length>0){window.utag.link(window.udo_impression,function(){window.udo_impression['collection.banner.ids']=[];window.udo_impression['collection.banner.names']=[];window.udo_impression['collection.banner.positions']=[];window.udo_impression['collection.banner.creatives']=[];window.test_timer=0;},[2,1]);}},2000)}
if(typeof(window.udo_impression['collection.banner.ids'])!=='undefined'&&window.udo_impression['collection.banner.ids'].length>=8){window.utag.link(window.udo_impression,function(){window.udo_impression['collection.banner.ids']=[];window.udo_impression['collection.banner.names']=[];window.udo_impression['collection.banner.positions']=[];window.udo_impression['collection.banner.creatives']=[];},[2,1]);}
inter_observer.unobserve(entry.target);}
});},config);element.addEventListener('click',function(t){var udo_click=(function(){var placement;if(element.dataset.cxlinktagPlacement.match(/(HOMEPAGE::HERO|PRIMARY)/)){placement=element.dataset.cxlinktagPlacement;}else{placement=element.dataset.cxlinktagPlacement+"::"+element.dataset.cxlinktagElementPosition;}
return{"event.event_action":"EC:PROMO_CLICK","event.event_category":"EC","event.event_label":element.dataset.cxlinktagPlacement,"collection.banner.ids":[element.dataset.cxlinktagPlacement+"::"+b["page.locale"].toUpperCase()],"collection.banner.names":[element.dataset.cxlinktagName.toUpperCase()],"collection.banner.positions":[placement],"collection.banner.creatives":[""],"vendor.ga.ec_action":"promo_click"}})();window.utag.link(udo_click);});inter_observer.observe(element);});}
catch(err){console.log(err);}}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['application.name']=='AEM'&&typeof b['registration.registration_id']!='undefined'&&b['registration.registration_id']!='')){try{b['registration.registration_id']=(function(){if(RegExp(/^\d+$/).test(b['registration.registration_id'])){return b['registration.registration_id']}else{return""}})()}catch(e){}}}catch(e){utag.DB(e)}}];utag.handler.cfg_extend=[{"end":0,"id":"32","alr":0,"blr":1,"bwq":0},{"end":0,"id":"365","alr":0,"blr":1,"bwq":0},{"end":0,"id":"366","alr":0,"blr":1,"bwq":0},{"end":0,"id":"392","alr":0,"bwq":0,"blr":1},{"id":"389","end":0,"blr":1,"bwq":0,"alr":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"27"},{"end":0,"id":"367","alr":0,"blr":1,"bwq":0},{"end":0,"id":"382","alr":0,"bwq":0,"blr":1},{"id":"383","end":0,"bwq":0,"blr":1,"alr":0},{"blr":1,"bwq":0,"alr":0,"id":"384","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"320"},{"end":0,"id":"399","alr":0,"blr":1,"bwq":0},{"end":0,"id":"44","alr":0,"bwq":0,"blr":1},{"id":"368","end":0,"bwq":0,"blr":1,"alr":0},{"bwq":0,"blr":1,"alr":0,"id":"42","end":0},{"bwq":0,"blr":1,"alr":0,"id":"275","end":0},{"bwq":0,"blr":1,"alr":0,"id":"400","end":0},{"bwq":0,"blr":1,"alr":0,"id":"401","end":0},{"bwq":0,"blr":1,"alr":0,"id":"46","end":0},{"blr":1,"bwq":0,"alr":0,"id":"402","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"403"},{"end":0,"id":"45","alr":0,"bwq":0,"blr":1},{"id":"369","end":0,"bwq":0,"blr":1,"alr":0},{"blr":0,"bwq":0,"alr":1,"id":"370","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"84"},{"end":0,"id":"85","alr":0,"bwq":0,"blr":1},{"id":"385","end":0,"blr":1,"bwq":0,"alr":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"452"},{"end":0,"id":"328","alr":0,"bwq":0,"blr":1},{"id":"55","end":0,"bwq":0,"blr":1,"alr":0},{"blr":1,"bwq":0,"alr":0,"id":"409","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"390"},{"end":0,"id":"406","alr":0,"blr":1,"bwq":0},{"end":0,"id":"410","alr":0,"blr":1,"bwq":0},{"end":0,"id":"408","alr":0,"bwq":0,"blr":1},{"id":"411","end":0,"blr":1,"bwq":0,"alr":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"420"},{"end":0,"id":"431","alr":0,"blr":1,"bwq":0},{"end":0,"id":"54","alr":1,"blr":0,"bwq":0},{"end":0,"id":"10","alr":0,"blr":1,"bwq":0},{"end":0,"id":"273","alr":0,"bwq":0,"blr":1},{"id":"16","end":0,"blr":1,"bwq":0,"alr":0},{"alr":0,"bwq":0,"blr":0,"end":1,"id":"86"},{"id":"153","end":1,"bwq":0,"blr":0,"alr":0},{"blr":1,"bwq":0,"alr":0,"id":"90","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"132"},{"end":0,"id":"144","alr":0,"bwq":0,"blr":1},{"id":"92","end":0,"bwq":0,"blr":1,"alr":0},{"bwq":0,"blr":1,"alr":0,"id":"115","end":0},{"blr":1,"bwq":0,"alr":0,"id":"99","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"97"},{"end":0,"id":"98","alr":0,"blr":1,"bwq":0},{"end":0,"id":"100","alr":0,"blr":1,"bwq":0},{"end":0,"id":"96","alr":0,"bwq":0,"blr":1},{"id":"102","end":0,"blr":1,"bwq":0,"alr":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"101"},{"end":0,"id":"114","alr":0,"blr":1,"bwq":0},{"end":0,"id":"146","alr":0,"bwq":0,"blr":1},{"id":"124","end":0,"bwq":0,"blr":1,"alr":0},{"bwq":0,"blr":1,"alr":0,"id":"258","end":0},{"bwq":0,"blr":1,"alr":0,"id":"321","end":0},{"blr":1,"bwq":0,"alr":0,"id":"184","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"194"},{"end":0,"id":"109","alr":0,"blr":1,"bwq":0},{"end":0,"id":"110","alr":0,"blr":1,"bwq":0},{"end":0,"id":"248","alr":0,"blr":1,"bwq":0},{"end":0,"id":"265","alr":0,"blr":1,"bwq":0},{"end":0,"id":"315","alr":0,"bwq":0,"blr":1},{"id":"225","end":0,"blr":1,"bwq":0,"alr":0},{"alr":1,"blr":0,"bwq":0,"end":0,"id":"226"},{"end":0,"id":"62","alr":1,"blr":0,"bwq":0},{"end":0,"id":"169","alr":0,"bwq":0,"blr":1},{"id":"186","end":0,"bwq":0,"blr":1,"alr":0},{"blr":1,"bwq":0,"alr":0,"id":"111","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"202"},{"end":0,"id":"208","alr":0,"blr":1,"bwq":0},{"end":0,"id":"203","alr":0,"bwq":0,"blr":1},{"id":"162","end":0,"bwq":0,"blr":1,"alr":0},{"bwq":0,"blr":0,"alr":1,"id":"319","end":0},{"bwq":0,"blr":1,"alr":0,"id":"430","end":0},{"bwq":0,"blr":1,"alr":0,"id":"104","end":0},{"bwq":0,"blr":1,"alr":0,"id":"314","end":0},{"bwq":0,"blr":1,"alr":0,"id":"443","end":0},{"blr":1,"bwq":0,"alr":0,"id":"435","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"359"},{"end":0,"id":"360","alr":0,"bwq":0,"blr":1},{"id":"376","end":1,"bwq":0,"blr":0,"alr":0},{"blr":0,"bwq":0,"alr":0,"id":"377","end":1},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"415"},{"end":0,"id":"438","alr":0,"bwq":0,"blr":1},{"id":"444","end":0,"blr":1,"bwq":0,"alr":0}];utag.loader.initcfg=function(){utag.loader.cfg={"7":{load:1,tcat:0,send:0,v:201904240753,wait:0,tid:20060,src:"//tags.tiqcdn.com/utag/tiqapp/utag.currency.js"},"646":{load:(utag.cond[2]&&utag.cond[104]),tcat:1,send:1,v:201903200937,wait:1,tid:20067},"552":{load:(utag.cond[214]&&utag.cond[104]),tcat:1,send:1,v:201810310902,wait:1,tid:20067},"642":{load:(utag.cond[105]&&utag.cond[104]),tcat:1,send:1,v:201901160908,wait:1,tid:20067},"643":{load:(utag.cond[97]&&utag.cond[104]),tcat:1,send:1,v:201810310902,wait:1,tid:20067},"15":{load:(utag.cond[2]&&utag.cond[104]),tcat:1,send:1,v:201903110227,wait:1,tid:20010},"274":{load:(utag.cond[105]&&utag.cond[104]),tcat:1,send:1,v:201809120719,wait:1,tid:20010},"307":{load:(utag.cond[97]&&utag.cond[235]&&utag.cond[225]),tcat:1,send:1,v:201809120719,wait:1,tid:20010},"499":{load:(utag.cond[97]&&utag.cond[16]&&utag.cond[225]),tcat:1,send:1,v:201809120719,wait:1,tid:20010},"378":{load:(utag.cond[214]&&utag.cond[104]&&utag.cond[221]),tcat:1,send:1,v:201812050816,wait:1,tid:20010},"2":{load:1,tcat:1,send:1,v:201904170314,wait:1,tid:7110},"250":{load:utag.cond[180],tcat:1,send:1,v:201904170314,wait:1,tid:20067},"430":{load:utag.cond[205],tcat:1,send:1,v:201805100252,wait:1,tid:20067},"6":{load:(utag.cond[106]&&utag.cond[381]),tcat:1,send:1,v:201904170314,wait:1,tid:8009},"1":{load:utag.cond[148],tcat:0,send:1,v:201904170314,wait:1,tid:20064},"10":{load:(utag.cond[42]&&utag.cond[45]&&utag.cond[43]&&utag.cond[309]&&utag.cond[310]),tcat:1,send:1,v:201810240728,wait:1,tid:20067},"12":{load:1,tcat:1,send:1,v:201706090245,wait:1,tid:19003},"23":{load:utag.cond[14],tcat:1,send:1,v:201903070341,wait:1,tid:1066},"29":{load:(utag.cond[7]&&utag.cond[6]),tcat:1,send:1,v:201901300823,wait:1,tid:1115},"22":{load:(utag.cond[12]&&utag.cond[4]),tcat:1,send:1,v:201810151004,wait:1,tid:13051},"36":{load:(utag.cond[12]&&utag.cond[8]),tcat:1,send:1,v:201810151004,wait:1,tid:13051},"37":{load:(utag.cond[12]&&utag.cond[5]),tcat:1,send:1,v:201901300823,wait:1,tid:13051},"80":{load:(utag.cond[12]&&utag.cond[5]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"38":{load:(utag.cond[12]&&utag.cond[9]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"39":{load:(utag.cond[12]&&utag.cond[10]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"40":{load:(utag.cond[12]&&utag.cond[11]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"81":{load:(utag.cond[12]&&utag.cond[11]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"41":{load:(utag.cond[12]&&utag.cond[6]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"82":{load:(utag.cond[12]&&utag.cond[6]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"42":{load:(utag.cond[13]&&utag.cond[4]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"43":{load:(utag.cond[13]&&utag.cond[8]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"44":{load:(utag.cond[13]&&utag.cond[5]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"45":{load:(utag.cond[13]&&utag.cond[9]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"46":{load:(utag.cond[13]&&utag.cond[10]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"47":{load:(utag.cond[13]&&utag.cond[11]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"48":{load:(utag.cond[13]&&utag.cond[6]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"21":{load:utag.cond[4],tcat:1,send:1,v:201904240753,wait:1,tid:6031},"49":{load:utag.cond[8],tcat:1,send:1,v:201904240753,wait:1,tid:6031},"50":{load:utag.cond[5],tcat:1,send:1,v:201706090245,wait:1,tid:6031},"51":{load:utag.cond[9],tcat:1,send:1,v:201706090245,wait:1,tid:6031},"52":{load:utag.cond[10],tcat:1,send:1,v:201706090245,wait:1,tid:6031},"53":{load:utag.cond[11],tcat:1,send:1,v:201706090245,wait:1,tid:6031},"54":{load:utag.cond[6],tcat:1,send:1,v:201706090245,wait:1,tid:6031},"60":{load:utag.cond[18],tcat:1,send:1,v:201902140723,wait:1,tid:6031},"75":{load:(utag.cond[7]&&utag.cond[6]),tcat:1,send:1,v:201805090720,wait:1,tid:6026},"118":{load:(utag.cond[4]&&utag.cond[67]),tcat:1,send:1,v:201707240825,wait:1,tid:20067},"119":{load:(utag.cond[8]&&utag.cond[67]),tcat:1,send:1,v:201707240825,wait:1,tid:20067},"120":{load:(utag.cond[5]&&utag.cond[67]),tcat:1,send:1,v:201707240825,wait:1,tid:20067},"121":{load:(utag.cond[6]&&utag.cond[67]),tcat:1,send:1,v:201707240825,wait:1,tid:20067},"159":{load:(utag.cond[12]&&utag.cond[48]),tcat:1,send:1,v:201708041210,wait:1,tid:13051},"170":{load:utag.cond[55],tcat:1,send:1,v:201708020551,wait:1,tid:13051},"171":{load:utag.cond[56],tcat:1,send:1,v:201708020551,wait:1,tid:13051},"188":{load:(utag.cond[64]&&utag.cond[65]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"189":{load:(utag.cond[12]&&utag.cond[65]),tcat:1,send:1,v:201707260146,wait:1,tid:13051},"191":{load:utag.cond[158],tcat:1,send:1,v:201804250936,wait:1,tid:13107},"221":{load:(utag.cond[7]&&utag.cond[48]),tcat:1,send:1,v:201708170057,wait:1,tid:20067},"223":{load:(utag.cond[7]&&utag.cond[6]),tcat:1,send:1,v:201708170057,wait:1,tid:20067},"240":{load:(utag.cond[95]&&utag.cond[165]),tcat:1,send:1,v:201802130758,wait:1,tid:4001},"243":{load:(utag.cond[100]&&utag.cond[101]),tcat:1,send:1,v:201708041210,wait:1,tid:13051},"248":{load:(utag.cond[12]&&utag.cond[100]),tcat:1,send:1,v:201708041210,wait:1,tid:13051},"264":{load:(utag.cond[106]&&utag.cond[48]),tcat:1,send:1,v:201807110753,wait:1,tid:20067},"265":{load:utag.cond[4],tcat:1,send:1,v:201709120206,wait:1,tid:20067},"266":{load:utag.cond[8],tcat:1,send:1,v:201709120206,wait:1,tid:20067},"267":{load:utag.cond[11],tcat:1,send:1,v:201709120206,wait:1,tid:20067},"268":{load:utag.cond[6],tcat:1,send:1,v:201709120206,wait:1,tid:20067},"269":{load:(utag.cond[14]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:1066},"270":{load:(utag.cond[14]&&utag.cond[113]),tcat:1,send:1,v:201903070341,wait:1,tid:1066},"275":{load:(utag.cond[15]&&utag.cond[117]),tcat:1,send:1,v:201710090412,wait:1,tid:20067,src:"//assets.cathaypacific.com/libs/accessibility/mmb/manage-booking.rules.min.js"},"276":{load:(utag.cond[15]&&utag.cond[118]),tcat:1,send:1,v:201710090412,wait:1,tid:20067,src:"//assets.cathaypacific.com/libs/accessibility/mmb/View_Manage_Booking_Summary.rules.min.js"},"300":{load:utag.cond[121],tcat:1,send:1,v:201711220802,wait:1,tid:13051},"301":{load:utag.cond[131],tcat:1,send:1,v:201711220802,wait:1,tid:13051},"302":{load:utag.cond[122],tcat:1,send:1,v:201711220802,wait:1,tid:13051},"303":{load:utag.cond[123],tcat:1,send:1,v:201711220802,wait:1,tid:13051},"304":{load:utag.cond[126],tcat:1,send:1,v:201711220802,wait:1,tid:13051},"305":{load:utag.cond[126],tcat:1,send:1,v:201711220802,wait:1,tid:13051},"306":{load:utag.cond[133],tcat:1,send:1,v:201712130724,wait:1,tid:13051},"325":{load:utag.cond[145],tcat:1,send:1,v:201801170818,wait:1,tid:20067},"470":{load:(utag.cond[87]&&utag.cond[48]),tcat:1,send:1,v:201805240638,wait:1,tid:4001},"472":{load:(utag.cond[87]&&utag.cond[6]),tcat:1,send:1,v:201805240638,wait:1,tid:4001},"567":{load:(utag.cond[7]&&utag.cond[268]),tcat:1,send:1,v:201808130636,wait:1,tid:20067},"477":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[106]&&utag.cond[148]),tcat:1,send:1,v:201904170314,wait:1,tid:11019},"596":{load:(utag.cond[282]&&utag.cond[180]),tcat:1,send:1,v:201904170314,wait:1,tid:20067},"622":{load:(utag.cond[214]&&utag.cond[106]),tcat:1,send:1,v:201810240728,wait:1,tid:11019},"623":{load:(utag.cond[105]&&utag.cond[106]),tcat:1,send:1,v:201810240728,wait:1,tid:11019},"632":{load:(utag.cond[87]&&utag.cond[304]&&utag.cond[4]&&utag.cond[305]),tcat:1,send:1,v:201904170314,wait:1,tid:4001},"638":{load:(utag.cond[42]&&utag.cond[45]&&utag.cond[43]&&utag.cond[308]&&utag.cond[307]),tcat:1,send:1,v:201810310902,wait:1,tid:20067},"669":{load:(utag.cond[106]&&utag.cond[4]),tcat:1,send:1,v:201812310247,wait:1,tid:6026},"670":{load:(utag.cond[106]&&utag.cond[8]),tcat:1,send:1,v:201812310247,wait:1,tid:6026},"671":{load:(utag.cond[106]&&utag.cond[11]),tcat:1,send:1,v:201812310247,wait:1,tid:6026},"672":{load:(utag.cond[106]&&utag.cond[6]),tcat:1,send:1,v:201812310247,wait:1,tid:6026},"678":{load:utag.cond[4],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"679":{load:utag.cond[327],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"722":{load:utag.cond[328],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"680":{load:utag.cond[5],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"681":{load:utag.cond[9],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"682":{load:utag.cond[10],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"683":{load:utag.cond[11],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"684":{load:utag.cond[6],tcat:1,send:1,v:201902280142,wait:1,tid:4049},"685":{load:utag.cond[48],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"686":{load:utag.cond[49],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"687":{load:utag.cond[50],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"688":{load:utag.cond[51],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"689":{load:utag.cond[52],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"690":{load:utag.cond[53],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"691":{load:utag.cond[54],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"692":{load:utag.cond[55],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"693":{load:utag.cond[56],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"694":{load:utag.cond[57],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"695":{load:utag.cond[193],tcat:1,send:1,v:201902280142,wait:1,tid:4049},"696":{load:utag.cond[121],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"697":{load:utag.cond[122],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"698":{load:utag.cond[123],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"699":{load:utag.cond[126],tcat:1,send:1,v:201902280142,wait:1,tid:4049},"700":{load:utag.cond[128],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"701":{load:utag.cond[129],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"702":{load:utag.cond[130],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"703":{load:utag.cond[124],tcat:1,send:1,v:201902280142,wait:1,tid:4049},"704":{load:utag.cond[131],tcat:1,send:1,v:201901090715,wait:1,tid:4049},"705":{load:utag.cond[153],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"706":{load:utag.cond[152],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"707":{load:utag.cond[150],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"708":{load:(utag.cond[151]&&utag.cond[150]),tcat:1,send:1,v:201812310247,wait:1,tid:4049},"709":{load:(utag.cond[151]&&utag.cond[153]),tcat:1,send:1,v:201812310247,wait:1,tid:4049},"710":{load:(utag.cond[151]&&utag.cond[152]),tcat:1,send:1,v:201812310247,wait:1,tid:4049},"711":{load:utag.cond[312],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"712":{load:utag.cond[311],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"713":{load:utag.cond[313],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"714":{load:utag.cond[314],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"715":{load:utag.cond[315],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"716":{load:utag.cond[316],tcat:1,send:1,v:201812310247,wait:1,tid:4049},"719":{load:utag.cond[324],tcat:1,send:1,v:201812310247,wait:1,tid:7132},"720":{load:utag.cond[325],tcat:1,send:1,v:201812190808,wait:1,tid:4001},"727":{load:(utag.cond[87]&&utag.cond[12]&&utag.cond[329]),tcat:1,send:1,v:201901160908,wait:1,tid:7132},"728":{load:(utag.cond[87]&&utag.cond[64]&&utag.cond[329]),tcat:1,send:1,v:201901160908,wait:1,tid:7132},"729":{load:(utag.cond[87]&&utag.cond[12]&&utag.cond[330]),tcat:1,send:1,v:201901160908,wait:1,tid:7132},"730":{load:(utag.cond[87]&&utag.cond[64]&&utag.cond[330]),tcat:1,send:1,v:201901160908,wait:1,tid:7132},"731":{load:(utag.cond[87]&&utag.cond[12]&&utag.cond[329]),tcat:1,send:1,v:201901160908,wait:1,tid:4049},"732":{load:(utag.cond[87]&&utag.cond[64]&&utag.cond[329]),tcat:1,send:1,v:201901160908,wait:1,tid:4049},"733":{load:(utag.cond[87]&&utag.cond[12]&&utag.cond[330]),tcat:1,send:1,v:201901160908,wait:1,tid:4049},"734":{load:(utag.cond[87]&&utag.cond[64]&&utag.cond[330]),tcat:1,send:1,v:201901160908,wait:1,tid:4049},"735":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]),tcat:1,send:1,v:201902010707,wait:1,tid:6026},"739":{load:(utag.cond[14]&&utag.cond[333]),tcat:1,send:1,v:201901230652,wait:1,tid:7132},"740":{load:(utag.cond[7]&&utag.cond[334]),tcat:1,send:1,v:201901230652,wait:1,tid:7132},"741":{load:(utag.cond[66]&&utag.cond[334]),tcat:1,send:1,v:201901230652,wait:1,tid:7132},"742":{load:(utag.cond[320]&&utag.cond[334]),tcat:1,send:1,v:201901230652,wait:1,tid:7132},"743":{load:(utag.cond[91]&&utag.cond[335]),tcat:1,send:1,v:201901230652,wait:1,tid:7132},"744":{load:(utag.cond[226]&&utag.cond[335]),tcat:1,send:1,v:201901230652,wait:1,tid:7132},"745":{load:(utag.cond[21]&&utag.cond[333]),tcat:1,send:1,v:201901230652,wait:1,tid:7132},"746":{load:(utag.cond[16]&&utag.cond[334]),tcat:1,send:1,v:201901300823,wait:1,tid:7132},"747":{load:(utag.cond[321]&&utag.cond[334]),tcat:1,send:1,v:201901300823,wait:1,tid:7132},"750":{load:utag.cond[337],tcat:1,send:1,v:201901300823,wait:1,tid:4049},"751":{load:utag.cond[338],tcat:1,send:1,v:201901300823,wait:1,tid:4049},"752":{load:utag.cond[340],tcat:1,send:1,v:201901300823,wait:1,tid:4049},"753":{load:utag.cond[341],tcat:1,send:1,v:201901300823,wait:1,tid:4049},"754":{load:utag.cond[342],tcat:1,send:1,v:201901300823,wait:1,tid:4049},"755":{load:utag.cond[343],tcat:1,send:1,v:201902280142,wait:1,tid:4049},"756":{load:utag.cond[344],tcat:1,send:1,v:201901300823,wait:1,tid:4049},"757":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]&&utag.cond[352]),tcat:1,send:1,v:201903110227,wait:1,tid:6026},"758":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]&&utag.cond[353]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"759":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]&&utag.cond[354]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"760":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]&&utag.cond[350]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"761":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]&&utag.cond[351]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"762":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]&&utag.cond[355]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"763":{load:(utag.cond[295]&&utag.cond[296]&&utag.cond[102]&&utag.cond[331]&&utag.cond[87]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"764":{load:utag.cond[356],tcat:1,send:1,v:201902140634,wait:1,tid:4001},"765":{load:utag.cond[357],tcat:1,send:1,v:201902200822,wait:1,tid:7132},"766":{load:utag.cond[358],tcat:1,send:1,v:201902200822,wait:1,tid:4049},"767":{load:utag.cond[359],tcat:1,send:1,v:201902200822,wait:1,tid:4049},"768":{load:utag.cond[360],tcat:1,send:1,v:201902200822,wait:1,tid:4049},"770":{load:utag.cond[362],tcat:1,send:1,v:201902280142,wait:1,tid:4049},"771":{load:utag.cond[363],tcat:1,send:1,v:201902280142,wait:1,tid:4049},"772":{load:utag.cond[363],tcat:1,send:1,v:201902280142,wait:1,tid:7132},"773":{load:(utag.cond[364]&&utag.cond[48]),tcat:1,send:1,v:201902280142,wait:1,tid:20052},"774":{load:(utag.cond[87]&&utag.cond[48]),tcat:1,send:1,v:201903070341,wait:1,tid:25016},"775":{load:utag.cond[366],tcat:1,send:1,v:201903070341,wait:1,tid:4049},"776":{load:utag.cond[367],tcat:1,send:1,v:201903070341,wait:1,tid:4049},"777":{load:utag.cond[368],tcat:1,send:1,v:201903070341,wait:1,tid:4049},"779":{load:(utag.cond[352]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"780":{load:(utag.cond[353]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"781":{load:(utag.cond[354]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"782":{load:(utag.cond[350]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"783":{load:(utag.cond[351]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"784":{load:(utag.cond[355]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"785":{load:(utag.cond[87]&&utag.cond[6]),tcat:1,send:1,v:201903070341,wait:1,tid:6026},"786":{load:utag.cond[369],tcat:1,send:1,v:201903130809,wait:1,tid:4049},"787":{load:utag.cond[370],tcat:1,send:1,v:201903130809,wait:1,tid:4049},"788":{load:utag.cond[371],tcat:1,send:1,v:201903130809,wait:1,tid:4049},"789":{load:utag.cond[372],tcat:1,send:1,v:201903200712,wait:1,tid:20067},"790":{load:utag.cond[372],tcat:1,send:1,v:201903200712,wait:1,tid:20067},"791":{load:utag.cond[373],tcat:1,send:1,v:201903200712,wait:1,tid:4049},"792":{load:(utag.cond[87]&&utag.cond[48]),tcat:1,send:1,v:201903200712,wait:1,tid:7132},"793":{load:utag.cond[374],tcat:1,send:1,v:201903200712,wait:1,tid:7132},"794":{load:(utag.cond[6]&&utag.cond[375]),tcat:1,send:1,v:201903270143,wait:1,tid:6026},"795":{load:utag.cond[376],tcat:1,send:1,v:201903270143,wait:1,tid:4049},"796":{load:utag.cond[377],tcat:1,send:1,v:201903270143,wait:1,tid:4049},"797":{load:utag.cond[378],tcat:1,send:1,v:201904080446,wait:1,tid:4049},"798":{load:utag.cond[379],tcat:1,send:1,v:201904100710,wait:1,tid:4049},"799":{load:(utag.cond[7]&&utag.cond[48]),tcat:1,send:1,v:201904100710,wait:1,tid:4049},"800":{load:utag.cond[380],tcat:1,send:1,v:201904100710,wait:1,tid:4049},"801":{load:utag.cond[380],tcat:1,send:1,v:201904170314,wait:1,tid:25016},"802":{load:utag.cond[380],tcat:1,send:1,v:201904170314,wait:1,tid:7132},"803":{load:utag.cond[382],tcat:1,send:1,v:201904170314,wait:1,tid:4049}};utag.loader.cfgsort=["7","646","552","642","643","15","274","307","499","378","2","250","430","6","1","10","12","23","29","22","36","37","80","38","39","40","81","41","82","42","43","44","45","46","47","48","21","49","50","51","52","53","54","60","75","118","119","120","121","159","170","171","188","189","191","221","223","240","243","248","264","265","266","267","268","269","270","275","276","300","301","302","303","304","305","306","325","470","472","567","477","596","622","623","632","638","669","670","671","672","678","679","722","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","719","720","727","728","729","730","731","732","733","734","735","739","740","741","742","743","744","745","746","747","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","770","771","772","773","774","775","776","777","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803"];}
utag.loader.initcfg();try{if(typeof utag.data['cp.OPTOUTMULTI']!='undefined'){var i,j,p,c=utag.loader.cfg,o=decodeURI(utag.data['cp.OPTOUTMULTI']).split('|');for(i=0;i<o.length;i++){p=o[i].split(':');if(p[1]*1!==0){if(p[0].indexOf('c')==0){for(j in utag.loader.GV(c)){if(c[j].tcat==p[0].substring(1))c[j].load=0}}else if(p[0]*1==0){utag.cfg.nocookie=true;}else{for(j in utag.loader.GV(c)){if(c[j].tid==p[0])c[j].load=0}}}}}}catch(e){}}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{if(typeof utag.runonce=='undefined')utag.runonce={};utag.jdh=function(h,i,j,k){h=utag.jdhc.length;if(h==0)window.clearInterval(utag.jdhi);else{for(i=0;i<h;i++){j=utag.jdhc[i];k=jQuery(j.i).is(":visible")?1:0;if(k!=j.s){if(j.e==(j.s=k))jQuery(j.i).trigger(j.e?"afterShow":"afterHide")}}}};utag.jdhi=window.setInterval(utag.jdh,250);utag.jdhc=[];if((utag.data['page.page_type'].toString().toLowerCase()=='homepage'.toLowerCase()&&utag.data['cp.OPTOUTMULTI'].toString().toLowerCase().indexOf('c1:1'.toLowerCase())<0)){if(typeof utag.runonce[178]=='undefined'){utag.runonce[178]=1;utag.jdhc.push({i:'[data-promo-name]',e:1});jQuery(document.body).on('afterShow','[data-promo-name]',function(e){if(jQuery('[data-promo-name]').is(':visible')){utag.link({"collection.banner.ids":[[$(this).attr("data-promo-name"),cxDataLayer.page.locale].join("::").toUpperCase()],"collection.banner.names":[$(this).attr("data-promo-creative").toUpperCase()],"collection.banner.positions":[$(this).attr("data-promo-position")],"event.event_action":"EC:PROMO_IMPRESSION","event.event_category":"EC","event.event_label":$(this).attr("data-promo-position"),"vendor.ga.non_interaction":true},function(){},[2]);}})}}}catch(e){utag.DB(e)};try{if((utag.data['page.page_type'].toString().toLowerCase()=='homepage'.toLowerCase()&&utag.data['cp.OPTOUTMULTI'].toString().toLowerCase().indexOf('c1:1'.toLowerCase())<0)){if(typeof utag.runonce[181]=='undefined'){utag.runonce[181]=1;jQuery(document.body).on('click','[data-promo-name]',function(e){utag.link({"collection.banner.ids":[[$(this).attr("data-promo-name"),cxDataLayer.page.locale].join("::").toUpperCase()],"collection.banner.names":[$(this).attr("data-promo-creative").toUpperCase()],"collection.banner.positions":[$(this).attr("data-promo-position")],"event.event_action":'EC:PROMO_CLICK',"event.event_category":'EC',"event.event_label":$(this).attr("data-promo-position"),"vendor.ga.ec_action":'promo_click'})})}}}catch(e){utag.DB(e)};try{if(utag.data['cp.OPTOUTMULTI'].toString().toLowerCase().indexOf('c1:1'.toLowerCase())<0){if(typeof utag.runonce[38]=='undefined'){utag.runonce[38]=1;jQuery(document.body).on('click','[data-event-action]',function(e){utag.link({"event.event_action":$(this).attr('data-event-action'),"event.event_category":$(this).attr('data-event-category'),"event.event_label":$(this).attr('data-event-label')})})}}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.url'].toString().indexOf('ribe-frame')>-1){if($("main").text().indexOf("#bodyplaceholder#")!=-1){var ct="ERROR::IBE"
var c=ct+"::TEMPLATE";var d="#bodyplaceholder#";cxTealium.utag.link({event:{event_action:c,event_category:ct}},{error:{error_code:c,error_description:d,error_category:ct}});};}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{if(utag.data['dom.url'].toString().toLowerCase().indexOf('coremetrics-opt-out-form'.toLowerCase())>-1){var d,n;try{n=document.createElement('div');n.innerHTML='<button class="tealiumMo2TriggerButton" onclick="javascript: (function () {if (typeof __tealiumMo2Div == \'undefined\') {__tealiumMo2Div = document.createElement(\'SCRIPT\');__tealiumMo2Div.type = \'text/javascript\';__tealiumMo2Div.src = \'//tags.tiqcdn.com/utag/cx/web/prod/utag.tagsOptOut.js?cb=\'+Math.random();document.getElementsByTagName(\'head\')[0].appendChild(__tealiumMo2Div);}else{__tealium.load();}})();">Modify Privacy Options</button>';d=document.getElementById('');d.parentElement.insertBefore(n,d);}catch(e){};}}catch(e){utag.DB(e)};}})
if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}